<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://www.kkkk1000.com/js/bump.js"></script>
    <script src="./smoothie.js"></script>
    <!-- <audio id="wuren" src="./无人区.mp3"></audio> -->
    <audio
      id="wuren"
      src="./富田美憂,大西沙織,大空直美 - ハレルヤ☆エッサイム.mp3"
    ></audio>
    <audio class="pandinC" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinD" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinB" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinA" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinE" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinF" src="./测试8.mp3" preload="auto"></audio>
    <audio class="pandinG" src="./测试8.mp3" preload="auto"></audio>
    <title>天使的测试</title>

    <ul id="ul">
      <div class="tapbacc"></div>
      <div class="tapbacc"></div>
      <div class="tapbacc"></div>
    </ul>

    <span></span>
    <span class="sp"></span>

    <div class="tapuyin">
      <img id="yinying" src="./阴影.png" alt="" />
    </div>

    <div class="pandwd">
      <div class="pand1">
        <img class="pdr" src="./外圈.png" alt="" />
        <img class="pdnl" src="./内圈.png" alt="" />
      </div>
      <div class="pand2">
        <img class="pdl" src="./外圈.png" alt="" />
        <img class="pdnr" src="./外圈2.png" alt="" />
      </div>
      <div class="pand3">
        <img class="pdl" src="./外圈.png" alt="" />
        <img class="pdnr" src="./外圈3.png" alt="" />
      </div>
      <div class="pand4">
        <img class="pdr" src="./外圈.png" alt="" />
        <img class="pdnl" src="./外圈4.png" alt="" />
      </div>
    </div>
    <div class="heade">
      <div class="hp">
        <img src="./血条.png" alt="" />
        <ul id="uul">
          <div class="tapbacp"></div>
          <div class="tapbacp"></div>
          <div class="tapbacp"></div>
        </ul>
      </div>
      <div class="fever">
        <img src="./血条.png" alt="" />
        <ul id="ull">
          <div class="tapbacd"></div>
          <div class="tapbacd"></div>
          <div class="tapbacd"></div>
        </ul>
      </div>
      <div class="hptou">
        <div class="headeTaputou">
          <img
            src="./tapu/光环.png"
            style="width: 28px; top: -28px; left: 16px"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img src="./tapu/头部.png" style="width: 56px; z-index: 1" alt="" />
        </div>
        <div class="headeTaputou" style="z-index: 13">
          <img
            id="headeTaputou1"
            src="./tapu/头发1.png"
            style="width: 16px; left: 24px; top: 12px; z-index: 12"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: 11">
          <img
            id="headeTaputou2"
            src="./tapu/头发2.png"
            style="width: 28px; left: -4px; top: 20px; z-index: 11"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: 11">
          <img
            id="headeTaputou3"
            src="./tapu/头发3.png"
            style="width: 36px; left: 40px; top: 16px; z-index: 11"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: 10">
          <img
            id="headeTaputou4"
            src="./tapu/头发4.png"
            style="width: 20px; left: -8px; top: 32px; z-index: 10"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: 10">
          <img
            id="headeTaputou5"
            src="./tapu/头发5.png"
            style="width: 20px; left: 48px; top: 32px; z-index: 10"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: -3">
          <img
            id="headeTaputou6"
            src="./tapu/头发6.png"
            style="width: 28px; left: -16px; top: -8px; z-index: -3"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: -1">
          <img
            id="headeTaputou7"
            src="./tapu/头发7.png"
            style="width: 24px; left: -24px; top: 16px; z-index: -1"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: -1">
          <img
            id="headeTaputou8"
            src="./tapu/头发8.png"
            style="width: 28px; left: -24px; top: 32px; z-index: -1"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            id="headeTaputou9"
            src="./tapu/头发9.png"
            style="width: 28px; left: 40px; top: -8px; z-index: 9"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            id="headeTaputou10"
            src="./tapu/头发10.png"
            style="width: 24px; left: 52px; top: 32px; z-index: -1"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            src="./tapu/头发11.png"
            style="width: 64px; left: -8px; top: -12px; z-index: 3"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: -1">
          <img
            id="headeTaputou12"
            src="./tapu/头发12.png"
            style="width: 52px; left: 4px; top: 36px; z-index: -4"
            alt=""
          />
        </div>
        <div class="headeTaputou" style="z-index: 20">
          <img
            src="./tapu/头饰.png"
            style="width: 22px; left: 36px; top: 4px; z-index: 13"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            id="headeTaputouEL"
            src="./tapu/眼睛↗.png"
            style="width: 12px; left: 12px; top: 28px; z-index: 2"
            alt=""
          />
          <!-- <img id="headeTaputouEL" src="./tapu/眼睛VL.png" style="width: 12px; left: 12px; top: 28px; z-index: 2;" alt=""> -->
          <!-- <img id="headeTaputouEL" src="./tapu/微笑眼.png" style="width: 12px; left: 12px; top: 32px; z-index: 2;" alt=""> -->
        </div>
        <div class="headeTaputou">
          <img
            id="headeTaputouER"
            src="./tapu/眼睛↗.png"
            style="width: 12px; left: 36px; top: 28px; z-index: 2"
            alt=""
          />
          <!-- <img id="headeTaputouER" src="./tapu/眼睛VR.png" style="width: 12px; left: 36px; top: 28px; z-index: 2;" alt=""> -->
          <!-- <img id="headeTaputouER" src="./tapu/微笑眼.png" style="width: 12px; left: 36px; top: 32px; z-index: 2;" alt=""> -->
        </div>
        <div class="headeTaputou">
          <!-- <img id="headeTaputouER" src="./tapu/w嘴.png" style="width: 12px; left: 24px; top: 42px; z-index: 2;" alt=""> -->
          <!-- <img id="headeTaputouER" src="./tapu/喘气嘴.png" style="width: 12px; left: 24px; top: 42px; z-index: 2;" alt=""> -->
          <!-- <img id="headeTaputouER" src="./tapu/嘲讽笑镜像.png" style="width: 12px; left: 24px; top: 40px; z-index: 2;" alt=""> -->
          <img
            id="headeTaputouEZ"
            src="./tapu/微笑.png"
            style="width: 12px; left: 24px; top: 42px; z-index: 2"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            id="headeTaputouH1"
            src="./tapu/流汗.png"
            style="width: 6px; left: 24px; top: 30px; z-index: 2; display: none"
            alt=""
          />
          <img
            id="headeTaputouH2"
            src="./tapu/流汗.png"
            style="width: 6px; left: 12px; top: 42px; z-index: 2; display: none"
            alt=""
          />
        </div>
        <div class="headeTaputou">
          <img
            src="./tapu/围巾.png"
            style="width: 44px; left: 8px; top: 52px; z-index: 1"
            alt=""
          />
        </div>
      </div>
    </div>
    <div class="baclick"></div>
    <div class="bacc">
      <div class="test"></div>
      <div class="baccup">
        <img src="./U]C2_EP~L_MDKJBU5FTY2N0.png" alt="" />
        <ul id="ul2">
          <div class="baccbacc"></div>
          <div class="baccbacc"></div>
          <div class="baccbacc"></div>
        </ul>
      </div>
      <div class="baccdown">
        <img src="./U]C2_EP~L_MDKJBU5FTY2N0.png" alt="" />
        <ul id="ul3">
          <div class="baccbacc"></div>
          <div class="baccbacc"></div>
          <div class="baccbacc"></div>
        </ul>
      </div>
    </div>
  </head>
  <body>
    <!-- 按q开始 -->
    <style>
    
      @keyframes hpbacc {
        form {
          top: 0px;
        }
        to {
          top: -300px;
        }
      }
      /* transform-origin: ; */

      #headeTaputou1 {
        transform-origin: 50% 0%;
      }
      #headeTaputou2 {
        transform-origin: 100% 5%;
      }
      #headeTaputou3 {
        transform-origin: 0% 5%;
      }
      #headeTaputou4 {
        transform-origin: 60% 20%;
      }
      #headeTaputou5 {
        transform-origin: 40% 20%;
      }
      #headeTaputou6 {
        transform-origin: 100% 5%;
      }
      #headeTaputou7 {
        transform-origin: 100% 5%;
      }
      #headeTaputou8 {
        transform-origin: 100% 5%;
      }
      #headeTaputou9 {
        transform-origin: 0% 5%;
      }
      #headeTaputou10 {
        transform-origin: 0% 5%;
      }

      .tapuyin {
        width: 120px;
        height: 40px;
        left: 895px;
        top: 710px;
        position: absolute;
        z-index: -12;
      }
      .headeTaputou {
        position: absolute;
        left: 18px;
        top: 25px;
        transform-origin: 50% 50%;
        transition: all 0.4s !important;
      }
      .headeTaputou img {
        transition: all 0.5s !important;
      }
      #yinying {
        position: absolute;
        width: 120px;
        opacity: 0.7;

        z-index: -13;
      }
      .hp img,
      .fever img {
        width: 100%;
        position: absolute;
        z-index: 10;
      }

      .heade {
        width: 100px;
        height: 100px;
        position: absolute;
        z-index: 10;
        top: -100px;
        left: -100px;
        margin: 200px;
      }
      .hp {
        width: 350px;
        height: 40px;
        position: absolute;
        top: 10px;
        left: 50px;
        z-index: -100;
        box-sizing: border-box;
        overflow: hidden;
      }

      .fever {
        width: 320px;
        height: 40px;
        position: absolute;
        left: 50px;
        top: 50px;
        overflow: hidden;
      }
      .fever img {
        top: -2px;
      }
      .hptou {
        overflow: hidden;
        width: 100px;
        height: 100px;
        background-color: salmon;
        border-radius: 50%;
        position: relative;
        top: 0px;
        z-index: 10;
        box-sizing: border-box;
        border: 6px solid #fff;
      }
      #uul {
        top: -700px;
        left: -483px;
        /* left: -800px; */
        width: 200px;
        display: flex;
        transform: rotateZ(45deg);
        position: absolute;
        transition: all linear 1s;
        flex-direction: column;
      }
      #ull {
        top: -700px;
        /* left: -516px; */
        left: -786px;
        width: 200px;
        display: flex;
        transform: rotateZ(45deg);
        position: absolute;
        transition: all linear 1s;
        flex-direction: column;
      }
      .tapbacp {
        width: 400%;
        height: 300px;
        top: 0px;
        background-image: url(/血条背景.png);
        background-position: center;
        background-size: 200px;
        /* opacity: 0.7; */
        position: relative;
        animation: hpbacc 10s linear infinite;
      }
      .tapbacd {
        width: 400%;
        height: 300px;
        top: 0px;
        background-image: url(/fever背景.png);
        background-position: center;
        background-size: 200px;
        /* opacity: 0.7; */
        position: relative;
        animation: hpbacc 10s linear infinite;
      }
      .test {
        box-sizing: border-box;
        width: 250px;
        height: 250px;
        position: absolute;
        background-color: rgb(255, 255, 255);
        border: 30px solid #000;
        border-radius: 50%;
        left: 50%;
        bottom: 50%;
        transform: translateX(-50%) translateY(50%);
      }
      .baclick{
        box-sizing: border-box;
        width: 190px;
        height: 190px;
        position: absolute;
        border-radius: 50%;
        left: 50%;
        bottom: 25px;
        transform: translateX(-50%) ;
        cursor:pointer
      }

      * {
        font-family: fontFamilyName;
      }
      @font-face {
        font-family: "fontFamilyName";
        src: url("font/ZCOOLKuaiLe-Regular.ttf");
      }
      @keyframes baccc {
        form {
          top: 0px;
        }
        to {
          top: -2560px;
        }
      }
      ul {
        top: 0;
        left: 0;
        /* display: flex; */
        width: 2560px;
        transform: rotateZ(-35deg);
        position: absolute;
        transition: all linear 1s;
        /* flex-direction: column; */
        z-index: -999;
      }
      .tapbacc {
        width: 200%;
        height: 2560px;
        top: 0;
        background-image: url(/bacc.png);
        background-position: center;
        background-size: 300px;
        opacity: 0.7;
        position: relative;
        animation: baccc 60s linear infinite;
      }
      .baccbacc {
        width: 200%;
        height: 1920px;
        top: 0;
        background-image: url(/Fever!.png);
        background-position: center;
        background-size: 160px;
        position: relative;
        animation: baccc 60s linear infinite;
      }
      span {
        position: absolute;
        top: -300px;
        left: -300px;
        /* width: 1920px; */
        /* height: 1920px; */
        width: 2560px;
        height: 2560px;
        border-radius: 50%;
        box-shadow: inset 0px 0px 300px 300px #aaaaaa;
      }
      .sp {
        /* width: 1916px;
        height: 1916px; */
        
        width: 2550px;
        height: 2550px;
        left: -295px;
        top: -295px;
        box-shadow: 0px 0px 300px 300px #aaaaaa;
      }
      #tapuer {
        z-index: -11;
      }
      .bacc {
        /* width: 2560px;
        height: 2560px; */
        width: 1920px;
        height: 1920px;
        box-sizing: border-box;
        border: 50px solid #000;
        border-radius: 50%;
        overflow: hidden;
        position: absolute;
        z-index: -200;
        opacity: 1;
        /* margin-left: 50%; */
        transform: rotateX(0deg) rotateZ(0deg);
        /* animation: bacc 100s linear infinite; */
        transition: all 0.2s !important;
      }

      .baccup {
        width: 100%;
        height: 50%;
        box-sizing: border-box;
        position: absolute;
        border-bottom: 25px solid #000;
        overflow: hidden;
        z-index: -200;
        transform: rotateX(180deg) rotateZ(180deg);
      }
      .baccup img {
        width: 100%;
        position: absolute;
        z-index: -100;
      }
      .baccdown img {
        width: 100%;
        top: 0;
        z-index: -100;
      }
      .baccdown {
        z-index: -200;
        transform: rotateZ(180deg) rotateY(180deg);
        width: 100%;
        height: 50%;
        box-sizing: border-box;
        position: absolute;
        bottom: 0;
        border-bottom: 25px solid #000;
        overflow: hidden;
      }
      body {
        overflow: hidden;
        position: fixed;
        top: 0;
        left: 0;
        width: 1920px;
        height: 1080px;
        /* background-color: rgb(78, 78, 78); */
      }
      @keyframes pd {
        from {
          transform: rotateZ(0);
        }
        50% {
          transform: rotateZ(180deg);
        }
        to {
          transform: rotateZ(360deg);
        }
      }
      @keyframes pdn {
        from {
          transform: rotateZ(0);
        }
        50% {
          transform: rotateZ(-180deg);
        }
        to {
          transform: rotateZ(-360deg);
        }
      }
      @keyframes bacc {
        from {
          transform: rotateZ(0) rotateX(180deg);
        }
        0.5% {
          transform: rotateZ(0) rotateX(0deg);
        }
        50% {
          transform: rotateZ(-180deg);
        }
        to {
          transform: rotateZ(-360deg);
        }
      }
      /* rotateX(0deg) rotateZ(0deg) */
      @keyframes bacb {
        from {
          transform: rotateZ(0) rotateX(0deg);
        }
        0.5% {
          transform: rotateZ(0) rotateX(180deg);
        }
        50% {
          transform: rotateZ(-180deg) rotateX(180deg);
        }
        to {
          transform: rotateZ(-360deg) rotateX(180deg);
        }
      }
      .pandwd {
        width: 292px;
        height: 292px;
        position: absolute;
        margin-left: 50%;
        transform: translateX(-50%);
        margin-top: 366px;
        z-index: -150;
      }
      .pdnl {
        width: 24px;
        height: 24px;
        margin-left: 20px;
        margin-top: 20px;
        /* transform: translateX(-50%) translateY(-50%); */
        animation: pd 3s linear infinite;
      }
      .pdnr {
        width: 24px;
        height: 24px;
        margin-left: 20px;
        margin-top: 20px;
        /* transform: translateX(-50%) translateY(-50%); */
        animation: pdn 3s linear infinite;
      }
      .pdl {
        width: 100%;
        height: 100%;
        animation: pd 4s linear infinite;
      }
      .pdr {
        width: 100%;
        height: 100%;
        animation: pdn 4s linear infinite;
      }
      .pand1 {
        width: 64px;
        height: 64px;
        position: absolute;
        top: 0;
        left: 0;
      }
      .pand2 {
        width: 64px;
        height: 64px;
        position: absolute;
        top: 0;
        right: 0;
      }
      .pand3 {
        width: 64px;
        height: 64px;
        position: absolute;
        bottom: 0;
        left: 0;
      }
      .pand4 {
        width: 64px;
        height: 64px;
        position: absolute;
        bottom: 0;
        right: 0;
      }
      #game {
        display: none;
      }
      * {
        padding: 0;
        margin: 0;
      }
      canvas {
        /* margin-top: 100px; */
        margin-left: 50%;
        position: absolute;
        z-index: -100;
        transform: translateX(-50%);
      }
      canvas:nth-of-type(3){
        z-index: -100 ;
      }
    </style>
    <script src="./jquery.min.js"></script>
    <script src="/pixi.min.js"></script>
    <script src="./content.js"></script>
    <!-- <button id="game">开始</button> -->
    <script>
      let bum = new Bump(PIXI);
      let HP = 0;
      // bum.circular = true
      let WRQ = document.getElementById("wuren");
      let pandinC = document.querySelector(".pandinC");
      let pandinD = document.querySelector(".pandinD");
      let pandinB = document.querySelector(".pandinB");
      let pandinA = document.querySelector(".pandinA");
      $(".baclick").click(() => {
        PIXI.loader
          // 1
          // .add("animals.json")
          .add("测试五角星2.png")
          .add("测试五角星2外圈.png")
          .add("测试五角星3.png")
          .add("测试五角星3外圈.png")
          .add("测试五角星4.png")
          .add("测试五角星4外圈.png")
          .add("测试兔子.png")
          .on("progress", loadProgressHandler)
          .load(loadOver);
      });
      $(document).keyup((e) => {
        if (e.key == "q") {
          $(".baclick").click();
        }
        if (e.key == "z") {
          // HP=0
          // WRQ.currentTime=0
          // WRQ.volume = 1;
          // WRQ.muted=false
          // app.stage.removeChild(comboText);
          // app.stage.removeChild(fractionText);
          // loadOver()
          location.reload();
        }
      });
      let comboText;
      let fractionText;
      // 如果支持webGL
      let type = "WebGl";
      if (!PIXI.utils.isWebGLSupported()) {
        // 不支持就用
        type = "canvas";
      }
      PIXI.utils.sayHello(type);
      //   创建一个画布
      let app = new PIXI.Application({
        width: 1820,
        height: 1024,
        antialias: true,
        // 透明↓
        transparent: true,
        resolution: 1,
        forceCanvas: true,
        backgroundColor: 0x061639,
      });
      document.body.appendChild(app.view);

      //   载入图片

      function loadProgressHandler(loader, resource) {
        console.log(loader.progress + "%");
        console.log(resource.url);
      }
      // loadOver 游戏基本功能
      function loadOver() {
        setTimeout(() => {
          app.stage.removeChild(comboText);
          app.stage.removeChild(fractionText);
        }, 0);
        WRQ.play();
        let resources = PIXI.loader.resources;
        let id = PIXI.loader.resources["animals.json"].textures;
        // fiver值
        let fever = 0;
        // fever状态
        let Fevers = false;
        // 连击数
        let combo = 0;
        let combos = [];
        // 分数
        let fraction = 0;
        let miss = 0;
        let greats = 0;
        let perfects = 0;
        let numberOfBlobs = 1;
        let xxx = 0;
        // 本数组用于存储单击音符
        let generateBlobs = [[], [], [], []];
        let continuityBlobs = [[], []];
        let stripBlobs = [[], [], [], []];
        let doubleBlobs = [[], [], [], []];
        // 时间 帧
        let Tick = 67;
        // 生命值
        //  HP = 0;
        // $(document).keydown(() => {
        // });
        // $(document).keyup(() => {
        // });
        // 1134    565=1134=68    6 =1帧 大概()***********************************************************************************************************************
        // 1117    ---366 → 67幀 = 1117毫秒 16.7
        let survival = true;
        function gameLoop(delta) {
          requestAnimationFrame(gameLoop);
          // 每帧执行一次
          // if (survival == true) {
          //   Tick+=1 ;
          // }
          // GabEd.forEach((item) => {
          //   if (item.start == Tick) {
          //     eval(item.type)(item.direction, item.parameter);
          //   }
          // });
        }
        gameLoop();
        app.ticker.add((delta) => {
          bccc += 0.04;
          $(".bacc").css("transform", `rotateZ(${bccc}deg) rotateX(${bxxx}deg)`);
          if (WRQ.currentTime > 47 && WRQ.muted == false) {
            WRQ.muted = true;
            // console.log(Math.max(...combos));
            alert(`
            得分:${fraction}
            最大连击数:${Math.max(...combos)}
            perfect:${perfects}
            great:${greats}
            Miss:${miss}
            评级:???
            准确率:${
              (
                ((perfects * 3 + greats * 2) / (miss + greats + perfects)) *
                3
              ).toFixed(3) * 10
            }%
            `);
          }
          if (survival == true) {
            Tick += delta;
            // Tick+=1;
          }
          GabEd.forEach((item) => {
            if (item.start < Tick + 0.5 && item.start > Tick - 0.5) {
              eval(item.type)(item.direction, item.parameter);
            }
            // if (item.start == Tick) {
            //   eval(item.type)(item.direction, item.parameter);
            // }
          });
        });

        // 判定点
        let rectangle = new PIXI.Graphics();
        let rectangle2 = new PIXI.Graphics();
        let rectangle3 = new PIXI.Graphics();
        let rectangle4 = new PIXI.Graphics();
        let rectangle5 = new PIXI.Graphics();
        let rectangle6 = new PIXI.Graphics();
        let rectangleG = new PIXI.Graphics();
        let rectangleLit = new PIXI.Graphics();
        let rectangleLit2 = new PIXI.Graphics();
        let rectangleLit3 = new PIXI.Graphics();
        let rectangleLit4 = new PIXI.Graphics();
        let rectangleLit5 = new PIXI.Graphics();
        let rectangleLit6 = new PIXI.Graphics();
        rectangle.lineStyle(4, 0xff3300, 0);
        rectangle.beginFill(0x66ccff, 0);
        rectangle.drawCircle(32, 32, 32);
        rectangle.endFill();
        rectangle.x = 764;
        rectangle.y = 366;
        rectangle.circular = true;
        rectangle.diameter = true;
        app.stage.addChild(rectangle);
        rectangle2.lineStyle(4, 0xff3300, 0);
        rectangle2.beginFill(0x66ccff, 0);
        rectangle2.drawCircle(32, 32, 32);
        rectangle2.endFill();
        rectangle2.x = 762;
        rectangle2.y = 594;
        rectangle2.circular = true;
        rectangle2.diameter = true;
        app.stage.addChild(rectangle2);
        rectangle3.lineStyle(4, 0xff3300, 0);
        rectangle3.beginFill(0x66ccff, 0);
        rectangle3.drawCircle(32, 32, 32);
        rectangle3.endFill();
        rectangle3.x = 992;
        rectangle3.y = 367;
        rectangle3.circular = true;
        rectangle3.diameter = true;
        app.stage.addChild(rectangle3);
        rectangle4.lineStyle(4, 0xff3300, 0);
        rectangle4.beginFill(0x66ccff, 0);
        rectangle4.drawCircle(32, 32, 32);
        rectangle4.endFill();
        rectangle4.x = 992;
        rectangle4.y = 594;
        rectangle4.circular = true;
        rectangle4.diameter = true;
        app.stage.addChild(rectangle4);
        rectangle5.lineStyle(4, 0xff3300, 0);
        rectangle5.beginFill(0x66ccff, 0);
        rectangle5.drawEllipse(32, 145, 32, 145);
        rectangle5.endFill();
        rectangle5.x = 992;
        rectangle5.y = 368;
        rectangle5.circular = true;
        rectangle5.diameter = true;
        app.stage.addChild(rectangle5);
        rectangle6.lineStyle(4, 0xff3300, 0);
        rectangle6.beginFill(0x66ccff, 0);
        rectangle6.drawEllipse(32, 145, 32, 145);
        rectangle6.endFill();
        rectangle6.x = 764;
        rectangle6.y = 368;
        rectangle6.circular = true;
        rectangle6.diameter = true;
        app.stage.addChild(rectangle6);
        rectangleLit.lineStyle(4, 0x553300, 0);
        rectangleLit.beginFill(0x66ccff, 0);
        rectangleLit.drawCircle(12, 12, 12);
        rectangleLit.endFill();
        rectangleLit.x = 784;
        rectangleLit.y = 387;
        rectangleLit.circular = true;
        rectangleLit.diameter = true;
        app.stage.addChild(rectangleLit);
        rectangleLit2.lineStyle(4, 0x553300, 0);
        rectangleLit2.beginFill(0x66ccff, 0);
        rectangleLit2.drawCircle(12, 12, 12);
        rectangleLit2.endFill();
        rectangleLit2.x = 784;
        rectangleLit2.y = 614;
        rectangleLit2.circular = true;
        rectangleLit2.diameter = true;
        app.stage.addChild(rectangleLit2);
        rectangleLit3.lineStyle(4, 0x553300, 0);
        rectangleLit3.beginFill(0x66ccff, 0);
        rectangleLit3.drawCircle(12, 12, 12);
        rectangleLit3.endFill();
        rectangleLit3.x = 1012;
        rectangleLit3.y = 386;
        rectangleLit3.circular = true;
        rectangleLit3.diameter = true;
        app.stage.addChild(rectangleLit3);
        rectangleLit4.lineStyle(4, 0x553300, 0);
        rectangleLit4.beginFill(0x66ccff, 0);
        rectangleLit4.drawCircle(12, 12, 12);
        rectangleLit4.endFill();
        rectangleLit4.x = 1012;
        rectangleLit4.y = 614;
        rectangleLit4.circular = true;
        rectangleLit4.diameter = true;
        app.stage.addChild(rectangleLit4);
        rectangleLit5.lineStyle(4, 0x553300, 0);
        rectangleLit5.beginFill(0x66ccff, 0);
        rectangleLit5.drawEllipse(12, 145, 12, 72.5);
        rectangleLit5.endFill();
        rectangleLit5.x = 1012;
        rectangleLit5.y = 368;
        rectangleLit5.circular = true;
        rectangleLit5.diameter = true;
        app.stage.addChild(rectangleLit5);
        rectangleLit6.lineStyle(4, 0x553300, 0);
        rectangleLit6.beginFill(0x66ccff, 0);
        rectangleLit6.drawEllipse(12, 145, 12, 72.5);
        rectangleLit6.endFill();
        rectangleLit6.x = 784;
        rectangleLit6.y = 368;
        rectangleLit6.circular = true;
        rectangleLit6.diameter = true;
        app.stage.addChild(rectangleLit6);
        rectangleG.lineStyle(4, 0xff3300, 1);
        rectangleG.beginFill(0x66ccff, 0);
        rectangleG.drawCircle(56, 56, 56);
        rectangleG.endFill();
        rectangleG.x = 856;
        rectangleG.y = 458;
        app.stage.addChild(rectangleG);
        rectangleG.circular = true;
        rectangleG.diameter = true;
        // continuity 连击
        function continuityG(direction, delay) {
          switch (direction) {
            // delay 定时器时间 RX RY BX BY LOR   398 增加的画布半径   72 blob的半径
            case 1:
              continuity(delay, 368 + 398, 368, 0 + 398 - 36, 398, "L");
              break;
            case 2:
              continuity(delay, 592 + 398, 368, 1024 + 398 + 36, 398, "R");
              break;
          }
        }
        function continuity(delay, RX, RY, BX, BY, LOR) {
          let blob = new PIXI.Sprite(
            PIXI.loader.resources["测试兔子.png"].texture
          );
          let perfect = new PIXI.Text("Perfect", styleP);
          let great = new PIXI.Text("Great", styleG);
          blob.evens = 0;
          let even = new PIXI.Text(`${blob.evens}`, styleG);
          even.alpha = 0;

          blob.x = BX;
          blob.y = BY;
          blob.vy = 6;
          blob.width = 144;
          blob.height = 224;
          blob.alpha = 0;
          LOR == "L"
            ? continuityBlobs[0].push(blob)
            : continuityBlobs[1].push(blob);
          blob.anchor.set(0.5, 0.5);
          app.stage.addChild(blob);
          app.stage.addChild(even);

          let speed = 6;
          let speedY = 5;
          // 每秒执行60次
          blob.Pef = false;
          blob.Gre = false;
          let mm = 0;
          app.ticker.add((delta) => {
            speedY -= 0.1;
            if (speedY <= 0) {
              speedY = 0;
            }
            blob.x += LOR == "L" ? blob.vy : -blob.vy;
            blob.y += speedY;
            blob.alpha += 0.02;
            if (blob.alpha > 1) {
              blob.alpha = 1;
            }

            if (LOR == "L") {
              if (blob.x > 512 + 398) {
                app.stage.removeChild(blob);
                if (mm == 0) {
                  mm++;
                  HPAdd();
                  comboRe();
                }
              }
            } else if (LOR == "R") {
              if (blob.x < 512 + 398) {
                app.stage.removeChild(blob);
                if (mm == 0) {
                  mm++;
                  HPAdd();
                  comboRe();
                }
              }
            }

            if (blob.vy == 0) {
              setTimeout(() => {
                echo = false;
                app.stage.removeChild(blob);
                LOR == "L"
                  ? continuityBlobs[0].shift()
                  : continuityBlobs[1].shift();
                conP = true;
              }, delay);
              if (blob.Pef == true) {
                app.stage.addChild(perfect);
                even.text = `${blob.evens}`;
                even.alpha = 1;
                perfect.y -= 4;
                perfect.alpha -= 0.02;
                setTimeout(() => {
                  app.stage.removeChild(even);
                }, delay);
                if (perfect.alpha <= 0) {
                  app.stage.removeChild(perfect);
                }
              } else if (blob.Gre == true) {
                app.stage.addChild(great);
                even.text = `${blob.evens}`;
                even.alpha = 1;
                great.y -= 4;
                great.alpha -= 0.02;
                setTimeout(() => {
                  app.stage.removeChild(even);
                }, delay);
                if (great.alpha <= 0) {
                  app.stage.removeChild(great);
                }
              }
            } else {
              perfect.x = blob.x - 96;
              perfect.y = blob.y;
              great.x = blob.x - 96;
              great.y = blob.y;
              even.x = blob.x - 12;
              even.y = blob.y - 96;
            }
          });
          blob.echo = true;
        }
        // generate 单击

        function generateG(direction) {
          switch (direction) {
            case 1:
              generate(400 - 32 + 398 - 2, 400 - 1 - 32, 0 + 398, 0, "L", "U");
              break;
            case 2:
              generate(
                400 - 32 + 398 - 2,
                624 + 3 - 32,
                0 + 398,
                1024,
                "L",
                "D"
              );
              break;
            case 3:
              generate(
                624 - 32 + 398 + 2,
                400 - 2 - 32,
                1024 + 398,
                0,
                "R",
                "U"
              );
              break;
            case 4:
              generate(
                624 - 32 + 398 + 2,
                624 + 3 - 32,
                1024 + 398,
                1024,
                "R",
                "D"
              );
              break;
          }
        }

        let styleFraction = new PIXI.TextStyle({
          fontFamily: "fontFamilyName",
          fontSize: 48,
          fill: "MediumAquamarine",
          stroke: "	MintCream",
          strokeThickness: 4,
          dropShadow: true,
          dropShadowColor: "#FF1493",
          dropShadowBlur: 4,
          dropShadowAngle: Math.PI / 6,
          dropShadowDistance: 6,
        });
        let styleCombo = new PIXI.TextStyle({
          fontFamily: "fontFamilyName",
          fontSize: 38,
          fill: "	#00FF7F",
          stroke: "#FF1493",
          strokeThickness: 4,
          dropShadow: true,
          dropShadowColor: "#FF1493",
          dropShadowBlur: 4,
          dropShadowAngle: Math.PI / 6,
          dropShadowDistance: 6,
        });
        let styleP = new PIXI.TextStyle({
          fontFamily: "fontFamilyName",
          fontSize: 30,
          fill: "white",
          stroke: "#FF1493",
          strokeThickness: 4,
          dropShadow: false,
          dropShadowColor: "#FF1493",
          dropShadowBlur: 4,
          dropShadowAngle: Math.PI / 6,
          dropShadowDistance: 6,
        });
        let styleG = new PIXI.TextStyle({
          fontFamily: "fontFamilyName",
          fontSize: 30,
          fill: "white",
          stroke: "#6495ED",
          strokeThickness: 4,
          dropShadow: false,
          dropShadowColor: "#6495ED",
          dropShadowBlur: 4,
          dropShadowAngle: Math.PI / 6,
          dropShadowDistance: 6,
        });
        // styleFraction
        // conP 让连打的连击只触发一次
        let conP = true;
        fractionText = new PIXI.Text(`得分 ${fraction}`, styleFraction);
        fractionText.x = 150;
        fractionText.y = 200;
        app.stage.addChild(fractionText);
        comboText = new PIXI.Text(`${combo}`, styleCombo);
        comboText.x = 890;
        comboText.y = 200;
        app.stage.addChild(comboText);
        function generate(RX, RY, BX, BY, LOR, UOD) {
          let blob = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星2.png"].texture
          );
          let blobG = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星2外圈.png"].texture
          );
          let perfect = new PIXI.Text("Perfect", styleP);
          let great = new PIXI.Text("Great", styleG);

          blob.width = 64;
          blob.height = 64;
          blob.anchor.set(0.5, 0.5);
          blob.x = BX;
          blob.y = BY;
          blob.vy = 6;
          blob.circular = true;
          blob.diameter = true;

          blobG.width = 64;
          blobG.height = 64;
          blobG.anchor.x = 0.5;
          blobG.anchor.y = 0.5;
          blobG.x = 0;
          blobG.y = 0;
          blobG.vy = 6;
          blob.Tick = Tick;

          if (LOR == "L" && UOD == "U") {
            generateBlobs[0].push(blob);
          } else if (LOR == "L" && UOD == "D") {
            generateBlobs[1].push(blob);
          } else if (LOR == "R" && UOD == "U") {
            generateBlobs[2].push(blob);
          } else if (LOR == "R" && UOD == "D") {
            generateBlobs[3].push(blob);
          }
          app.stage.addChild(blob);

          blob.Pef = false;
          blob.Gre = false;
          // 每秒执行60次
          app.ticker.add((delta) => {
            blob.x += LOR == "L" ? blob.vy : -blob.vy;
            blob.y += UOD == "U" ? blob.vy : -blob.vy;
            blob.rotation += LOR == "L" ? 0.1 : -0.1;
            blobG.x = blob.x;
            blobG.y = blob.y;
            blobG.rotation = blob.rotation;

            // 速度为0 说明被击中 消除
            if (blob.vy == 0) {
              app.stage.addChild(blobG);
              blobG.width += 6;
              blobG.height += 6;
              blobG.alpha -= 0.05;
              if (blob.Pef == true) {
                app.stage.addChild(perfect);
                perfect.y -= 4;
                perfect.alpha -= 0.02;
              } else if (blob.Gre == true) {
                app.stage.addChild(great);
                great.y -= 4;
                great.alpha -= 0.02;
              }
              if (blobG.width > 160) {
                app.stage.removeChild(blobG);
              }
              if (blobG.width > 180) {
                app.stage.removeChild(perfect);
                app.stage.removeChild(great);
              }
            } else {
              perfect.x = blob.x - 96;
              perfect.y = blob.y;
              great.x = blob.x - 96;
              great.y = blob.y;
            }
          });
        }
        // 幽灵 音符 待定.... 塔罗牌 随机效果
        // 单击判定优化 即使密集也没问题 别的音符不会出现密集情况 所以不优化~
        function comboRe() {
          combo = 0;
          combos.push(combo);
          comboText.text = `${combo}`;
          app.stage.addChild(comboText);
        }
        function comboAdd(num) {
          combo++;
          combos.push(combo);
          comboText.text = `${combo}`;
          app.stage.addChild(comboText);
          if (Fevers == true) {
            fraction += num + ((num * combo) / (num / 10)) * 2;
          } else {
            fraction += num + (num * combo) / (num / 10);
          }
          fractionText.text = `得分 ${fraction}`;
          app.stage.addChild(fractionText);
        }

        function comboAddCon(num, PG) {
          if (conP == true) {
            conP = false;
            combo++;
            PG == "P" ? (fever += 10) : (fever += 5);
            PG == "P" ? perfects++ : greats++;
            combos.push(combo);
            comboText.text = `${combo}`;
            app.stage.addChild(comboText);
            if (Fevers == true) {
              fraction += num + ((num * combo) / (num / 10)) * 2;
            } else {
              fraction += num + (num * combo) / (num / 10);
            }
            fractionText.text = `得分 ${fraction}`;
            app.stage.addChild(fractionText);
          }
        }
        // intel参数为 audio类名参数
        let intel = 0;
        $(document).keydown(function (e) {
          function gDown(arr, PG, con) {
            intel++;
            arr[0].evens++;
            con == "C" ? null : app.stage.removeChild(arr[0]);

            if (con == "C") {
              if (arr[0].rotation >= 0.1) {
                arr[0].rotation = -0.1;
              } else {
                arr[0].rotation = 0.1;
              }
              if (Fevers == true && arr[0].echo) {
                fraction += 10 * 2;
                fractionText.text = `得分 ${fraction}`;
                app.stage.addChild(fractionText);
              } else if (arr[0].echo) {
                fraction += 10;
                fractionText.text = `得分 ${fraction}`;
                app.stage.addChild(fractionText);
              }
            } else {
              PG == "P" ? perfects++ : greats++;
            }
            arr[0].vy = 0;
            PG == "P" ? (arr[0].Pef = true) : (arr[0].Gre = true);
            if (con != "C") {
              PG == "P" ? (fever += 10) : (fever += 5);
            }

            con == "C" ? null : arr.shift();
            // pandinC.play();
            if (pandinC.ended) {
              pandinC.play();
            } else {
              $(
                `<audio class="pandinC${intel}" src="./测试8.mp3" preload="auto" autoplay="autoplay"></audio> `
              ).appendTo("body");
              $(`.pandinC${intel - 6}`).remove();
            }
          }
          if (e.key == "e" || e.key == "E") {
            // 单
            if (bum.hit(rectangleLit, generateBlobs[0])) {
              gDown(generateBlobs[0], "P");
              comboAdd(200);
            } else if (bum.hit(rectangle, generateBlobs[0])) {
              gDown(generateBlobs[0]);
              comboAdd(100);
            }
            // 连
            if (bum.hit(rectangleLit6, continuityBlobs[0])) {
              gDown(continuityBlobs[0], "P", "C");
              comboAddCon(200, "P");
            } else if (bum.hit(rectangle6, continuityBlobs[0])) {
              gDown(continuityBlobs[0], "G", "C");
              comboAddCon(100);
            }
          } else if (e.key == "f" || e.key == "F") {
            if (bum.hit(rectangleLit2, generateBlobs[1])) {
              gDown(generateBlobs[1], "P");
              comboAdd(200);
            } else if (bum.hit(rectangle2, generateBlobs[1])) {
              gDown(generateBlobs[1]);
              comboAdd(100);
            }
            if (bum.hit(rectangleLit6, continuityBlobs[0])) {
              gDown(continuityBlobs[0], "P", "C");
              comboAddCon(200, "P");
            } else if (bum.hit(rectangle6, continuityBlobs[0])) {
              gDown(continuityBlobs[0], "G", "C");
              comboAddCon(100);
            }
          } else if (e.key == "o" || e.key == "O") {
            if (bum.hit(rectangleLit3, generateBlobs[2])) {
              gDown(generateBlobs[2], "P");
              comboAdd(200);
            } else if (bum.hit(rectangle3, generateBlobs[2])) {
              gDown(generateBlobs[2]);
              comboAdd(100);
            }
            if (bum.hit(rectangleLit5, continuityBlobs[1])) {
              gDown(continuityBlobs[1], "P", "C");
              comboAddCon(200, "P");
            } else if (bum.hit(rectangle5, continuityBlobs[1])) {
              gDown(continuityBlobs[1], "G", "C");
              comboAddCon(100);
            }
          } else if (e.key == "j" || e.key == "J") {
            if (bum.hit(rectangleLit4, generateBlobs[3])) {
              gDown(generateBlobs[3], "P");
              comboAdd(200);
            } else if (bum.hit(rectangle4, generateBlobs[3])) {
              gDown(generateBlobs[3]);
              comboAdd(100);
            }
            if (bum.hit(rectangleLit5, continuityBlobs[1])) {
              gDown(continuityBlobs[1], "P", "C");
              comboAddCon(200, "P");
            } else if (bum.hit(rectangle5, continuityBlobs[1])) {
              gDown(continuityBlobs[1], "G", "C");
              comboAddCon(100);
            }
          }
        });
        let ull = document.getElementById("ull");
        let uul = document.getElementById("uul");
        let HPde = true;
        function HPAdd() {
          miss++;
          if (HPde == true) {
            HPde = false;
            HP += 15;
            injured();
            setTimeout(() => {
              // 定时器无敌帧 1s
              HPde = true;
            }, 1000);
          }
        }
        function arrGp(arr) {
          app.stage.removeChild(arr[0]);
          arr.shift();
          combo = 0;
          HPAdd();
          if (HP < 0) {
            HP = 0;
          }
          comboText.text = `${combo}`;
        }
        app.ticker.add((delta) => {
          if (HP >= 315) {
            // 死亡判定
            hpZero();
            survival = false;
            if (WRQ.volume > 0) {
              WRQ.volume -= 0.015625;
            }
          }
          if (bum.hit(rectangleG, generateBlobs[0])) {
            arrGp(generateBlobs[0]);
          } else if (bum.hit(rectangleG, generateBlobs[1])) {
            arrGp(generateBlobs[1]);
          } else if (bum.hit(rectangleG, generateBlobs[2])) {
            arrGp(generateBlobs[2]);
          } else if (bum.hit(rectangleG, generateBlobs[3])) {
            arrGp(generateBlobs[3]);
          }
          function feverDe() {
            setTimeout(() => {
              fever--;
              fever <= 0 ? baccDe() : feverDe();
            }, 50);
          }
          function baccDe() {
            setTimeout(() => {
              $(".bacc img").css("display", `block`);
            }, 120);

            bxxx = 0;
            Fevers = false;
          }
          if (fever >= 540) {
            feverDe();
            bxxx = 180;
            Fevers = true;
            // bbcc = !bbcc;
            setTimeout(() => {
              $(".bacc img").css("display", `none`);
            }, 120);
          }
          ull.style.left = `${-786 + fever / 2}px`;
          uul.style.left = `${-483 - HP}px`;
        });
        // Strip 长条
        function StropG(direction, num) {
          // 音符长度 num 定位点x y blob x y 超出判定 左和右 LOR 上和下 UOD
          // num RX RY BX BY
          switch (direction) {
            case 1:
              Strip(num, 400 - 2 + 398, 400 - 2, 0 + 398, 0, "L", "U");
              break;
            case 2:
              Strip(num, 400 - 2 + 398, 624 + 3, 0 + 398, 1024, "L", "D");
              break;
            case 3:
              Strip(num, 624 + 2 + 398, 400 - 2, 1024 + 398, 0, "R", "U");
              break;
            case 4:
              Strip(num, 624 + 2 + 398, 624 + 2, 1024 + 398, 1024, "R", "D");
              break;
          }
        }
        function Strip(num, RX, RY, BX, BY, LOR, UOD) {
          // 创建判定点
          let rectangle = new PIXI.Graphics();
          rectangle.lineStyle(4, 0xff3300, 0);
          rectangle.beginFill(0x66ccff, 0);
          rectangle.drawCircle(32, 32, 32);
          rectangle.endFill();
          rectangle.x = RX - 32;
          rectangle.y = RY - 32;
          rectangle.circular = true;
          rectangle.diameter = true;
          app.stage.addChild(rectangle);
          let rectangleLit = new PIXI.Graphics();
          rectangleLit.lineStyle(4, 0xff3300, 0);
          rectangleLit.beginFill(0x66ccff, 0);
          rectangleLit.drawCircle(12, 12, 12);
          rectangleLit.endFill();
          rectangleLit.x = RX - 12;
          rectangleLit.y = RY - 12;
          rectangleLit.circular = true;
          rectangleLit.diameter = true;

          app.stage.addChild(rectangleLit);

          let perfect = new PIXI.Text("Perfect", styleP);
          let great = new PIXI.Text("Great", styleG);
          let perfect2 = new PIXI.Text("Perfect", styleP);
          let great2 = new PIXI.Text("Great", styleG);

          let id = PIXI.loader.resources["animals.json"].textures;
          let blob = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星3.png"].texture
          );
          let blob2 = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星3.png"].texture
          );
          let blobG = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星3外圈.png"].texture
          );
          let blob2G = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星3外圈.png"].texture
          );
          blob.x = BX;
          blob2.x = LOR == "L" ? BX - num : BX + num;
          blob.y = BY;
          blob2.y = UOD == "U" ? BY - num : BY + num;
          blob.vy = 6;
          blob2.vy = 6;
          blob.vx = 1;
          blob2.vx = 1;
          blob.width = 64;
          blob.height = 64;
          blob.anchor.x = 0.5;
          blob.anchor.y = 0.5;
          blobG.width = 64;
          blobG.height = 64;
          blobG.anchor.x = 0.5;
          blobG.anchor.y = 0.5;
          blob2.width = 64;
          blob2.height = 64;
          blob2.anchor.x = 0.5;
          blob2.anchor.y = 0.5;
          blob2G.width = 64;
          blob2G.height = 64;
          blob2G.anchor.x = 0.5;
          blob2G.anchor.y = 0.5;
          blob.circular = true;
          blob.diameter = true;
          blob2.circular = true;
          blob2.diameter = true;
          // direction = -1;
          // blobs.push(blob);
          // blobs.push(blob2);
          let line;
          let line2;
          let line3;

          app.stage.addChild(blob);
          app.stage.addChild(blob2);
          // 速度
          let speed = 6;
          let speed2 = 6;
          // 透明度
          let transparent = 1;
          let up = true;
          // GP
          let Pef = false;
          let Gre = false;
          let Pef2 = false;
          let Gre2 = false;
          let mm = 0;
          let SgFractionP;
          let SgFractionG;
          let StripOne = true;
          function sgFraction() {
            SgFractionP = setInterval(() => {
              if (Fevers == true) {
                fraction += 2 * 2;
              } else {
                fraction += 2;
              }
              fractionText.text = `得分 ${fraction}`;
              app.stage.addChild(fractionText);
            }, 100);
          }
          function sgFraction2() {
            SgFractionG = setInterval(() => {
              if (Fevers == true) {
                fraction += 1 * 2;
              } else {
                fraction += 1;
              }
              fractionText.text = `得分 ${fraction}`;
              app.stage.addChild(fractionText);
            }, 100);
          }
          function removeAll() {
            app.stage.removeChild(line);
            app.stage.removeChild(line2);
            app.stage.removeChild(line3);
            app.stage.removeChild(blob);
            app.stage.removeChild(blob2);
            app.stage.removeChild(rectangleLit);
            app.stage.removeChild(rectangle);
            blob2.visible = false;
          }
          app.ticker.add((delta) => {
            if (LOR == "L") {
              if (blob.x > 400 + 398 + 32) {
                transparent = 0.5;
                up = false;
              }
            } else if (LOR == "R") {
              if (blob.x < 624 + 398 - 32) {
                transparent = 0.5;
                up = false;
              }
            }
            if (speed == 0) {
              // blobG
              blobG.x = blob.x;
              blobG.y = blob.y;
              blobG.width += 4;
              blobG.height += 4;
              blobG.alpha -= 0.05;
              app.stage.addChild(blobG);
              if (blobG.width > 140) {
                app.stage.removeChild(blobG);
              }
              if (Pef == true) {
                app.stage.addChild(perfect);
                perfect.y -= 4;
                perfect.alpha -= 0.02;
                if (blobG.width > 180) {
                  app.stage.removeChild(perfect);
                }
              } else if (Gre == true) {
                app.stage.addChild(great);
                great.y -= 4;
                great.alpha -= 0.02;
                if (blobG.width > 180) {
                  app.stage.removeChild(great);
                }
              }
            } else {
              perfect.x = blob.x - 96;
              perfect.y = blob.y;
              great.x = blob.x - 96;
              great.y = blob.y;
            }
            if (blob2.vy == 0) {
              blob2G.x = blob2.x;
              blob2G.y = blob2.y;
              blob2G.width += 4;
              blob2G.height += 4;
              blob2G.alpha -= 0.05;
              app.stage.addChild(blob2G);
              if (blob2G.width > 140) {
                app.stage.removeChild(blob2G);
              }
              if (Pef2 == true) {
                app.stage.addChild(perfect2);
                perfect2.y -= 4;
                perfect2.alpha -= 0.02;
                if (blob2G.width > 180) {
                  app.stage.removeChild(perfect2);
                }
              } else if (Gre2 == true) {
                app.stage.addChild(great2);
                great2.y -= 4;
                great2.alpha -= 0.02;
                if (blobG.width > 180) {
                  app.stage.removeChild(great2);
                }
              }
            } else {
              perfect2.x = blob2.x - 96;
              perfect2.y = blob2.y;
              great2.x = blob.x - 96;
              great2.y = blob.y;
            }

            app.stage.removeChild(line);
            app.stage.removeChild(line2);
            app.stage.removeChild(line3);

            line = new PIXI.Graphics();
            line.lineStyle(12, 0xf7f0ad, transparent);
            line.moveTo(blob.x, blob.y + 17);
            line.lineTo(blob2.x, blob2.y + 17);

            line2 = new PIXI.Graphics();
            line2.lineStyle(12, 0xf7f0ad, transparent);
            line2.moveTo(blob.x, blob.y - 17);
            line2.lineTo(blob2.x, blob2.y - 17);

            line3 = new PIXI.Graphics();
            line3.lineStyle(12, 0xffffff, transparent);
            line3.moveTo(blob.x, blob.y);
            line3.lineTo(blob2.x, blob2.y);
            if (LOR == "L") {
              if (blob.x <= blob2.x) {
                blob2.vy = 0;
                blob.vy = 0;
                clearInterval(SgFractionP);
                clearInterval(SgFractionG);
              }
            } else if (LOR == "R") {
              if (blob.x >= blob2.x) {
                blob2.vy = 0;
                blob.vy = 0;
                clearInterval(SgFractionP);
                clearInterval(SgFractionG);
              }
            }

            if (blob2.vy != 0 && blob.vy != 0) {
              app.stage.addChild(line);
              app.stage.addChild(line2);
              app.stage.addChild(line3);
              app.stage.addChild(blob);
              app.stage.addChild(blob2);
            }
            // 超出判定
            if (LOR == "L") {
              if (blob2.x > 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                  clearInterval(SgFractionP);
                  clearInterval(SgFractionG);
                }
              }
              if (blob.x > 512 + 398) {
                blob.vy = 0;
                app.stage.addChild(line);
                app.stage.addChild(line2);
                app.stage.addChild(line3);
                app.stage.addChild(blob);
                app.stage.addChild(blob2);
                if (blob2.x > 512 + 398) {
                  removeAll();
                  if (mm == 0) {
                    mm++;
                    comboRe();
                    HPAdd();
                    clearInterval(SgFractionP);
                    clearInterval(SgFractionG);
                  }
                }
              }
            } else if (LOR == "R") {
              if (blob2.x < 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                  clearInterval(SgFractionP);
                  clearInterval(SgFractionG);
                }
              }
              if (blob.x < 512 + 398) {
                blob.vy = 0;
                app.stage.addChild(line);
                app.stage.addChild(line2);
                app.stage.addChild(line3);
                app.stage.addChild(blob);
                app.stage.addChild(blob2);
                if (blob2.x < 512 + 398) {
                  removeAll();
                  if (mm == 0) {
                    mm++;
                    comboRe();
                    HPAdd();
                    clearInterval(SgFractionP);
                    clearInterval(SgFractionG);
                  }
                }
              }
            }

            blob.rotation += 0.05;
            blobG.rotation += 0.05;
            blob2.rotation += 0.05;
            blob2G.rotation += 0.05;
            blob.x += LOR == "L" ? blob.vy : -blob.vy;
            blob.y += UOD == "U" ? blob.vy : -blob.vy;
            blob2.x += LOR == "L" ? blob2.vy : -blob2.vy;
            blob2.y += UOD == "U" ? blob2.vy : -blob2.vy;
            line.x -= blob2.vy;
            line2.x -= blob2.vy;
            line3.x -= blob2.vy;
          });
          let dingShiQi;
          let m = 1;
          let w = 1;
          let litKey = "";
          let bigKey = "";

          document.addEventListener("keydown", (event) => {
            if (LOR == "L" && UOD == "U") {
              litKey = "e";
              bigKey = "E";
            } else if (LOR == "L" && UOD == "D") {
              litKey = "f";
              bigKey = "F";
            } else if (LOR == "R" && UOD == "U") {
              litKey = "o";
              bigKey = "O";
            } else if (LOR == "R" && UOD == "D") {
              litKey = "j";
              bigKey = "J";
            }
            if (event.key == litKey || event.key == bigKey) {
              if (StripOne == true) {
                StripOne = false;
                app.ticker.add((delta) => {
                  if (blob2.vy != 0 || blob.vy != 0) {
                    app.stage.addChild(line);
                    app.stage.addChild(line2);
                    app.stage.addChild(line3);
                    app.stage.addChild(blob);
                    app.stage.addChild(blob2);
                  }

                  if (LOR == "L" ? blob2.x >= blob.x : blob2.x <= blob.x) {
                    removeAll();
                    w++;
                  }
                });
                if (bum.hit(rectangleLit, blob)) {
                  Pef = true;
                  speed = 0;
                  blob.vy = 0;

                  m++;
                  if (m <= 2) {
                    perfects++;
                    pandinD.currentTime = 0;
                    pandinD.play();
                    fever += 10;
                    comboAdd(200);
                    sgFraction();
                  }
                } else if (bum.hit(rectangle, blob)) {
                  Gre = true;
                  speed = 0;
                  blob.vy = 0;

                  m++;
                  if (m <= 2) {
                    greats++;
                    pandinD.currentTime = 0;
                    pandinD.play();
                    fever += 5;
                    comboAdd(200);
                    sgFraction2();
                  }
                }
              }
            }

            document.addEventListener("keyup", (event) => {
              if ((event.key == litKey || event.key == bigKey) && up == true) {
                w++;
                clearInterval(SgFractionP);
                clearInterval(SgFractionG);
                // if (blob.x > 464) {
                if (bum.hit(rectangleLit, blob2)) {
                  if (blob2.visible != false) {
                    Pef2 = true;
                  }
                  removeAll();
                  speed = 0;
                  blob.vy = 0;
                  blob2.vy = 0;
                  if (w <= 2) {
                    perfects++;
                    fever += 10;
                    comboAdd(200);
                    pandinD.currentTime = 0;
                    pandinD.play();
                  }
                } else if (bum.hit(rectangle, blob2)) {
                  if (blob2.visible != false) {
                    Gre2 = true;
                  }
                  removeAll();
                  speed = 0;
                  blob.vy = 0;
                  blob2.vy = 0;
                  if (w <= 2) {
                    greats++;
                    fever += 5;
                    comboAdd(100);
                    pandinD.currentTime = 0;
                    pandinD.play();
                  }
                } else if (bum.hit(blob, rectangle)) {
                  blob.vy = 6;
                  transparent = 0.5;
                }
                // }
              }
            });
          });
        }
        // double 双击
        function doubleG(direction) {
          // RX RY RX2 RY2 BX BY BX2 BY2 LOR UOD LOR2 UOD2
          switch (direction) {
            case 1:
              double(
                400 + 398 - 2,
                400 - 2,
                400 + 398 - 2,
                624 + 2,
                0 + 398,
                0,
                0 + 398,
                1024,
                "L",
                "U",
                "L",
                "D"
              );
              break;
            case 2:
              double(
                624 + 398 + 2,
                400 - 2,
                400 + 398 - 2,
                400 - 2,
                1024 + 398,
                0,
                0 + 398,
                0,
                "R",
                "U",
                "L",
                "U"
              );
              break;
            case 3:
              double(
                624 + 398 + 2,
                624 + 2,
                624 + 398 + 2,
                400 - 2,
                1024 + 398,
                1024,
                1024 + 398,
                0,
                "R",
                "D",
                "R",
                "U"
              );
              break;
            case 4:
              double(
                400 + 398 - 3,
                624 + 2,
                624 + 398 + 2,
                624 + 2,
                0 + 398,
                1024,
                1024 + 398,
                1024,
                "L",
                "D",
                "R",
                "D"
              );
              break;
          }
        }
        function double(
          RX,
          RY,
          RX2,
          RY2,
          BX,
          BY,
          BX2,
          BY2,
          LOR,
          UOD,
          LOR2,
          UOD2
        ) {
          let animals = new PIXI.Container();
          let rectangle = new PIXI.Graphics();
          let blob = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星4.png"].texture
          );
          let animals2 = new PIXI.Container();
          let rectangle2 = new PIXI.Graphics();
          let blob2 = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星4.png"].texture
          );
          let blobG = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星2外圈.png"].texture
          );
          let blob2G = new PIXI.Sprite(
            PIXI.loader.resources["测试五角星2外圈.png"].texture
          );
          let rectangleLit = new PIXI.Graphics();
          let rectangleLit2 = new PIXI.Graphics();

          let perfect = new PIXI.Text("Perfect", styleP);
          let great = new PIXI.Text("Great", styleG);
          let perfect2 = new PIXI.Text("Perfect", styleP);
          let great2 = new PIXI.Text("Great", styleG);

          rectangle.lineStyle(4, 0xff3300, 0);
          rectangle.beginFill(0x66ccff, 0);
          rectangle.drawCircle(32, 32, 32);
          rectangle.endFill();
          rectangle.x = RX - 32;
          rectangle.y = RY - 32;

          rectangleLit.lineStyle(4, 0xff3300, 0);
          rectangleLit.beginFill(0x66ccff, 0);
          rectangleLit.drawCircle(12, 12, 12);
          rectangleLit.endFill();
          rectangleLit.x = RX - 12;
          rectangleLit.y = RY - 12;

          blob.width = 64;
          blob.x = BX;
          blob.y = BY;
          blob2.width = 64;
          blob2.x = BX2;
          blob2.y = BY2;
          blobG.x = blob.x;
          blobG.y = blob.y;
          blob2G.x = blob2.x;
          blob2G.y = blob2.y;
          blob.height = 64;
          blob2.height = 64;
          blob.anchor.x = 0.5;
          blob.anchor.y = 0.5;
          blob2.anchor.x = 0.5;
          blob2.anchor.y = 0.5;

          blobG.width = 64;
          blob2G.width = 64;
          blobG.height = 64;
          blob2G.height = 64;
          blobG.anchor.x = 0.5;
          blobG.anchor.y = 0.5;
          blob2G.anchor.x = 0.5;
          blob2G.anchor.y = 0.5;

          blob.vy = 6;
          // direction = -1;
          // blobs.push(blob);

          animals.addChild(rectangle);
          animals.addChild(rectangleLit);
          animals.addChild(blob);
          app.stage.addChild(blobG);
          app.stage.addChild(animals);

          rectangle2.lineStyle(4, 0xff3300, 0);
          rectangle2.beginFill(0x66ccff, 0);
          rectangle2.drawCircle(32, 32, 32);
          rectangle2.endFill();
          rectangle2.x = RX2 - 32;
          rectangle2.y = RY2 - 32;

          rectangleLit2.lineStyle(4, 0xff3300, 0);
          rectangleLit2.beginFill(0x66ccff, 0);
          rectangleLit2.drawCircle(12, 12, 12);
          rectangleLit2.endFill();
          rectangleLit2.x = RX2 - 12;
          rectangleLit2.y = RY2 - 12;

          let speed = 6;
          let speed2 = 6;
          let Pef = false;
          let Gre = false;
          let mm = 0;
          let ww = 0;
          blob2.vy = 1;
          // direction = -1;
          // blobs.push(blob);
          // blobs.push(blob2);
          animals2.addChild(rectangle2);
          animals2.addChild(rectangleLit2);
          animals2.addChild(blob2);
          app.stage.addChild(blob2G);
          app.stage.addChild(animals2);

          let line;
          function removeAll() {
            app.stage.removeChild(animals);
            app.stage.removeChild(animals2);
            app.stage.removeChild(blob);
            app.stage.removeChild(blob2);
            app.stage.removeChild(line);
            app.stage.removeChild(blobG);
            app.stage.removeChild(blob2G);
          }
          // 每秒执行60次

          app.ticker.add((delta) => {
            app.stage.removeChild(line);

            blob.x += LOR == "L" ? blob.vy : -blob.vy;
            blob.y += UOD == "U" ? blob.vy : -blob.vy;
            blob2.x += LOR2 == "L" ? speed2 : -speed2;
            blob2.y += UOD2 == "U" ? speed2 : -speed2;
            blob.rotation += 0.1;
            blob2.rotation -= 0.1;
            blobG.x = blob.x;
            blobG.y = blob.y;
            blob2G.x = blob2.x;
            blob2G.y = blob2.y;
            blobG.rotation += 0.1;
            blob2G.rotation -= 0.1;
            line = new PIXI.Graphics();
            line.lineStyle(28, 0x7fffaa, 1);
            line.moveTo(blob.x, blob.y);
            line.lineTo(blob2.x, blob2.y);
            line.x = 0;
            line.y = 0;

            if (blob.vy != 0 && speed2 != 0) {
              app.stage.addChild(line);
              app.stage.addChild(animals);
              app.stage.addChild(animals2);
            }

            if (LOR == "L" && LOR2 == "L") {
              if (blob.x > 512 + 398 || blob2.x > 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                }
              }
            } else if (LOR == "R" && LOR2 == "L") {
              if (blob.x < 512 + 398 || blob2.x > 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                }
              }
            } else if (LOR == "R" && LOR2 == "R") {
              if (blob.x < 512 + 398 || blob2.x < 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                }
              }
            } else if (LOR == "L" && LOR2 == "R") {
              if (blob.x > 512 + 398 || blob2.x < 512 + 398) {
                removeAll();
                if (mm == 0) {
                  mm++;
                  comboRe();
                  HPAdd();
                }
              }
            }

            if (blob.vy == 0) {
              blobG.width += 4;
              blobG.height += 4;
              blobG.alpha -= 0.02;
              if (blobG.width > 140) {
                app.stage.removeChild(blobG);
              }
              // perfect
              if (Pef == true) {
                app.stage.addChild(perfect);
                perfect.y -= 4;
                perfect.alpha -= 0.02;
                app.stage.addChild(perfect2);
                perfect2.y -= 4;
                perfect2.alpha -= 0.02;
                if (blobG.width > 180) {
                  app.stage.removeChild(perfect);
                  app.stage.removeChild(perfect2);
                }
              } else if (Gre == true) {
                app.stage.addChild(great);
                great.y -= 4;
                great.alpha -= 0.02;
                app.stage.addChild(great2);
                great2.y -= 4;
                great2.alpha -= 0.02;
                if (blobG.width > 180) {
                  app.stage.removeChild(great2);
                }
              }
            } else {
              perfect.x = blob.x - 96;
              perfect.y = blob.y;
              great.x = blob.x - 96;
              great.y = blob.y;
              perfect2.x = blob2.x - 96;
              perfect2.y = blob2.y;
              great2.x = blob2.x - 96;
              great2.y = blob2.y;
            }
            if (speed2 == 0) {
              blob2G.width += 4;
              blob2G.height += 4;
              blob2G.alpha -= 0.02;
              if (blob2G.width > 140) {
                app.stage.removeChild(blob2G);
              }
            }
          });
          let m = true;
          let w = true;
          let litKey = "";
          let bigKey = "";
          let litKey2 = "";
          let bigKey2 = "";
          let i = 0;
          let j = 0;

          document.addEventListener("keydown", (event) => {
            if (LOR == "L" && UOD == "U") {
              litKey = "e";
              bigKey = "E";
            } else if (LOR == "L" && UOD == "D") {
              litKey = "f";
              bigKey = "F";
            } else if (LOR == "R" && UOD == "U") {
              litKey = "o";
              bigKey = "O";
            } else if (LOR == "R" && UOD == "D") {
              litKey = "j";
              bigKey = "J";
            }

            if (LOR2 == "L" && UOD2 == "U") {
              litKey2 = "e";
              bigKey2 = "E";
            } else if (LOR2 == "L" && UOD2 == "D") {
              litKey2 = "f";
              bigKey2 = "F";
            } else if (LOR2 == "R" && UOD2 == "U") {
              litKey2 = "o";
              bigKey2 = "O";
            } else if (LOR2 == "R" && UOD2 == "D") {
              litKey2 = "j";
              bigKey2 = "J";
            }
            let ZhTimeA;
            let ZhTimeB;
            if (event.key == litKey || event.key == bigKey) {
              i++;
              ZhTimeA = setTimeout(() => {
                clearInterval(ZhTimeA);
                i = 0;
              }, 20);
            }
            if (event.key == litKey2 || event.key == bigKey2) {
              j++;
              ZhTimeB = setTimeout(() => {
                clearInterval(ZhTimeB);
                j = 0;
              }, 20);
            }
            // 需要两个键同时(20ms内)按下触发 因为js不支持自由组合键 所以↓
            if (i >= 1 && j >= 1) {
              if (bum.hit(rectangleLit, blob)) {
                if (m == true) {
                  pandinA.currentTime = 0;
                  pandinA.play();
                }
                if (w == true) {
                  pandinB.currentTime = 0;
                  pandinB.play();
                }
                Pef = true;
                if (ww == 0) {
                  perfects += 2;
                  ww++;
                  fever += 10;
                  comboAdd(200);
                  comboAdd(200);
                }
                app.stage.removeChild(blob);
                app.stage.removeChild(line);
                app.stage.removeChild(animals);
                m = false;
                blob.vy = 0;

                app.stage.removeChild(blob2);
                app.stage.removeChild(line);
                app.stage.removeChild(animals2);
                w = false;
                speed2 = 0;
              } else if (bum.hit(rectangle, blob)) {
                if (m == true) {
                  pandinA.currentTime = 0;
                  pandinA.play();
                }
                if (w == true) {
                  pandinB.currentTime = 0;
                  pandinB.play();
                }
                Gre = true;
                if (ww == 0) {
                  greats += 2;
                  ww++;
                  fever += 5;
                  comboAdd(100);
                  comboAdd(100);
                }
                app.stage.removeChild(blob);
                app.stage.removeChild(line);
                app.stage.removeChild(animals);
                m = false;
                blob.vy = 0;

                app.stage.removeChild(blob2);
                app.stage.removeChild(line);
                app.stage.removeChild(animals2);
                w = false;
                speed2 = 0;
              }

              // if (bum.hit(rectangle, blob)) {
              //   app.stage.removeChild(blob2);
              //   app.stage.removeChild(line);
              //   app.stage.removeChild(animals2);
              //   speed2 = 0;
              //   if (w <= 2) {
              //     pandinB.currentTime = 0;
              //     pandinB.play();
              //   }
              // }
            }

            // else if (event.key == litKey || event.key == bigKey) {
            //   // 宽松判定 快速按下两个键也可以触发(>10ms)
            //   m++;
            //   if (hitTestRectangle(rectangle, blob)) {
            //     app.stage.removeChild(blob);
            //     app.stage.removeChild(line);
            //     app.stage.removeChild(animals);
            //     speed = 0;
            //     if (m <= 2) {
            //       pandinA.currentTime = 0;
            //       pandinA.play();
            //     }
            //   }
            // } else if (event.key == litKey2 || event.key == bigKey2) {
            //   w++;
            //   if (hitTestRectangle(rectangle, blob)) {
            //     app.stage.removeChild(blob2);
            //     app.stage.removeChild(line);
            //     app.stage.removeChild(animals2);
            //     speed2 = 0;
            //     if (w <= 2) {
            //       pandinB.currentTime = 0;
            //       pandinB.play();
            //     }
            //   }
            // }
          });
        }

        function zhanwei() {
          // 用来占位 没用
        }
      }
      //  碰撞处理函数 bum.hit(r1,r2)
      let app2 = new PIXI.Application({
        width: 1024,
        height: 1024,
        antialias: true,
        transparent: true,
        resolution: 1,
        forceCanvas: true,
        backgroundColor: 0x061639,
      });
      let animalsTP = new PIXI.Container();
      console.log(app2);
      document.body.appendChild(app2.view);
      let app3 = new PIXI.Application({
        width: 1024,
        height: 1024,
        antialias: true,
        transparent: true,
        resolution: 1,
        forceCanvas: true,
        backgroundColor: 0x061639,
      });
      document.body.appendChild(app3.view);
      let animalsTP2 = new PIXI.Container();

      //   载入图片
      PIXI.loader
        .add("animals.json")
        .add("./tapu/头发1.png")
        .add("./tapu/头发2.png")
        .add("./tapu/头发3.png")
        .add("./tapu/头发4.png")
        .add("./tapu/头发5.png")
        .add("./tapu/头发6.png")
        .add("./tapu/头发7.png")
        .add("./tapu/头发8.png")
        .add("./tapu/头发9.png")
        .add("./tapu/头发10.png")
        .add("./tapu/头发11.png")
        .add("./tapu/头发12.png")
        .add("./tapu/头部.png")
        .add("./tapu/头饰.png")
        .add("./tapu/眼睛↗.png")
        .add("./tapu/眼睛VL.png")
        .add("./tapu/眼睛VR.png")
        .add("./tapu/身体.png")
        .add("./tapu/手L.png")
        .add("./tapu/手R.png")
        .add("./tapu/手2.png")
        .add("./tapu/围巾.png")
        .add("./tapu/围巾L.png")
        .add("./tapu/围巾R.png")
        .add("./tapu/腿1.png")
        .add("./tapu/腿2.png")
        .add("./tapu/光环.png")
        .on("progress", loadProgressHandler)
        .load(loadOver2)
        .load(loadOver3);

      function loadProgressHandler(loader, resource) {
        console.log(loader.progress + "%");
        console.log(resource.url);
      }
      // loadOver2 人物部分 css改canvas
      function loadOver2() {
        let resources = PIXI.loader.resources;
        let id = PIXI.loader.resources["animals.json"].textures;
        
        let numberOfBlobs = 1;
        let xxx = 0;
        let blobs = [];
        let a = 0;
        TapGenerate();
        function TapGenerate(lei) {
          
          var smoothie = new Smoothie({
            engine: PIXI,
            renderer: app2,
            root: animalsTP,
            fps: 30,
            update: update.bind(this),
          });
          function update() {
            // let a=7
            if (a == 1) {
              animalsBY.scale.x = 1;
              animalsBY.y = 138;
              animalsBY.x = 120 + 12;
              animalsSL.rotation = -0.3;
              animalsSR.rotation = -0.2;
              showL2.rotation = -1.9;
              showR2.rotation = -0;
              animalsBY.rotation = 0.3;
              animalsFL.rotation = 0.35;
              footL2.rotation = 0.2;
              animalsFR.rotation = -1;
              footR2.rotation = 1.6;
              animalsHe.rotation = -0.2;
              animalsHeNum(animalsHe.rotation);
              eyeCh();
              scarfR.rotation = -0.3;
              scarfL.rotation = -0.3;
            } else if (a == 2) {
              animalsBY.scale.x = 1;
              animalsBY.y = 120 + 10;
              animalsBY.x = 120 - 30;
              animalsSL.rotation = 0.2;
              animalsSR.rotation = 1.9;
              showL2.rotation = 0;
              showR2.rotation = -1.9;
              animalsBY.rotation = -0.55;
              animalsFL.rotation = 0.55;
              footL2.rotation = 0;
              animalsFR.rotation = -1.2;
              footR2.rotation = 0;
              animalsHe.rotation = 0.3;
              animalsHeNum(animalsHe.rotation);
              eyeCh();
              scarfR.rotation = 0.4;
              scarfL.rotation = 0.4;
            } else if (a == 3) {
              animalsBY.scale.x = -1;
              animalsBY.y = 138;
              animalsBY.x = 120 - 12;
              animalsSL.rotation = -0.3;
              animalsSR.rotation = -0.2;
              showL2.rotation = -1.9;
              showR2.rotation = -0;
              animalsBY.rotation = -0.3;
              animalsFL.rotation = 0.35;
              footL2.rotation = 0.2;
              animalsFR.rotation = -1;
              footR2.rotation = 1.6;
              animalsHe.rotation = -0.2;
              animalsHeNum(animalsHe.rotation);
              eyeCh();
              scarfR.rotation = -0.3;
              scarfL.rotation = -0.3;
            } else if (a == 4) {
              animalsBY.scale.x = -1;
              animalsBY.y = 120 + 10;
              animalsBY.x = 120 + 30;
              animalsSL.rotation = 0.2;
              animalsSR.rotation = 1.9;
              showL2.rotation = 0;
              showR2.rotation = -1.9;
              animalsBY.rotation = 0.55;
              animalsFL.rotation = 0.55;
              footL2.rotation = 0;
              animalsFR.rotation = -1.2;
              footR2.rotation = 0;
              animalsHe.rotation = 0.3;
              animalsHeNum(animalsHe.rotation);
              eyeCh();
              scarfR.rotation = 0.4;
              scarfL.rotation = 0.4;
            } else if (a == 5) {
              animalsBY.scale.x = 1;
              animalsBY.y = 120 - 30;
              animalsBY.x = 120;
              animalsSL.rotation = 0.6;
              animalsSR.rotation = -0.6;
              showL2.rotation = -1.1;
              showR2.rotation = 1.1;
              animalsBY.rotation = 0;
              animalsFL.rotation = 1.5;
              footL2.rotation = 0;
              animalsFR.rotation = -1.5;
              footR2.rotation = 0;
              animalsHe.rotation = 0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 0.2;
              scarfL.rotation = 0.2;
              eyeR.visible = false;
              eyeL.visible = false;
              eyeVL.visible = true;
              eyeVR.visible = true;
            }else if(a==6){
              
              animalsBY.scale.x = 1;
              animalsBY.y = 120 + 30;
              animalsBY.x = 120+21;
              animalsSL.rotation = -1;
              animalsSR.rotation = 1.5;
              showL2.rotation = -1.1;
              showR2.rotation = -0.9;
              animalsBY.rotation = 0.2;
              animalsFL.rotation = -0.2;
              footL2.rotation = 1.6;
              animalsFR.rotation = -0.7;
              footR2.rotation = 2.1;
              animalsHe.rotation = 0.2;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 0.1;
              scarfL.rotation = -0.1;
              eyeR.visible = false;
              eyeL.visible = false;
              eyeVL.visible = true;
              eyeVR.visible = true;
              setTimeout(() => {
                a=7
              }, 1000);
            }else if(a==7){
              animalsBY.scale.x = 1;
              animalsBY.y = 120 + 90;
              animalsBY.x = 120+90;
              animalsSL.rotation = -2.2;
              animalsSR.rotation = -0.8;
              showL2.rotation = -1.1;
              showR2.rotation = -0.4;
              animalsBY.rotation = 1.4;
              animalsFL.rotation = -0.7;
              footL2.rotation = 0.5;
              animalsFR.rotation = -0.1;
              footR2.rotation = 0.25;
              animalsHe.rotation = -0.3;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 0.1;
              scarfL.rotation = -1.2;
              eyeR.visible = false;
              eyeL.visible = false;
              eyeVL.visible = true;
              eyeVR.visible = true;
            } else if (a == 0) {
              animalsBY.y = 120;
              animalsBY.x = 120;
              animalsSL.rotation = -1;
              animalsSR.rotation = 1;
              showL2.rotation = -2.2;
              showR2.rotation = -1.6;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.15;
              footL2.rotation = 0.3;
              animalsFR.rotation = -0.4;
              footR2.rotation = 0.4;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -1) {
              animalsBY.y = 117;
              animalsBY.x = 117;
              animalsSL.rotation = -0.9;
              animalsSR.rotation = 1.1;
              showL2.rotation = -2.1;
              showR2.rotation = -1.5;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.1;
              footL2.rotation = 0.2;
              animalsFR.rotation = -0.3;
              footR2.rotation = 0.3;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -2) {
              animalsBY.y = 120;
              animalsBY.x = 114;
              animalsSL.rotation = -1;
              animalsSR.rotation = 1;
              showL2.rotation = -2.2;
              showR2.rotation = -1.6;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.15;
              footL2.rotation = 0.3;
              animalsFR.rotation = -0.4;
              footR2.rotation = 0.4;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -3) {
              animalsBY.y = 117;
              animalsBY.x = 117;
              animalsSL.rotation = -0.9;
              animalsSR.rotation = 1.1;
              showL2.rotation = -2.1;
              showR2.rotation = -1.5;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.1;
              footL2.rotation = 0.2;
              animalsFR.rotation = -0.3;
              footR2.rotation = 0.3;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            }
            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 1.1;
            // animalsSR.rotation = -1.1;
            // showL2.rotation = -1.5;
            // showR2.rotation = 1.5;
            // animalsBY.rotation = -0.6;
            // animalsFL.rotation = -0.4;
            // footL2.rotation = 0;
            // animalsFR.rotation = -1;
            // footR2.rotation = 2;
            // animalsHe.rotation = 0.3;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = -0.5;
            // scarfL.rotation = 0.5;

            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 0.5;
            // animalsSR.rotation = -0.5;
            // showL2.rotation = -1;
            // showR2.rotation = 0;
            // animalsBY.rotation = 0.6;
            // animalsFL.rotation = -0;
            // footL2.rotation = 0;
            // animalsFR.rotation = -0.9;
            // footR2.rotation = 1.9;
            // animalsHe.rotation = -0.3;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = 0.3;
            // scarfL.rotation = 0.3;

            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 0.4;
            // animalsSR.rotation = 1.1;
            // animalsBY.addChild(animalsSR);
            // animalsBY.addChild(scarf);
            // showL2.rotation = 2;
            // showR2.rotation = 1;
            // animalsBY.rotation = -1.4;
            // animalsFL.rotation = -0.2;
            // footL2.rotation = -0;
            // animalsFR.rotation = -0.5;
            // footR2.rotation = 2;
            // animalsHe.rotation = 0.15;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = 1.4;
            // scarfL.rotation = 1.4;
          }
          function animalsHeNum(num) {
            animalsHe1.rotation = num;
            animalsHe2.rotation = num;
            animalsHe3.rotation = num;
            animalsHe4.rotation = num;
            animalsHe5.rotation = num;
            animalsHe6.rotation = num;
            animalsHe7.rotation = num;
            animalsHe8.rotation = num;
            animalsHe9.rotation = num;
            animalsHe10.rotation = num;
            animalsHe11.rotation = num;
            animalsHe12.rotation = num;
          }
          function eyeCh() {
            eyeR.visible = true;
            eyeL.visible = true;
            eyeVL.visible = false;
            eyeVR.visible = false;
          }
          smoothie.start();
          let animalsHe = new PIXI.Container();
          let animalsHeS = new PIXI.Container();
          let animalsHe1 = new PIXI.Container();
          let animalsHe2 = new PIXI.Container();
          let animalsHe3 = new PIXI.Container();
          let animalsHe4 = new PIXI.Container();
          let animalsHe5 = new PIXI.Container();
          let animalsHe6 = new PIXI.Container();
          let animalsHe7 = new PIXI.Container();
          let animalsHe8 = new PIXI.Container();
          let animalsHe9 = new PIXI.Container();
          let animalsHe10 = new PIXI.Container();
          let animalsHe11 = new PIXI.Container();
          let animalsHe12 = new PIXI.Container();
          let animalsSL = new PIXI.Container();
          let animalsSR = new PIXI.Container();
          let animalsFL = new PIXI.Container();
          let animalsFR = new PIXI.Container();
          let animalsBY = new PIXI.Container();
          let hair = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发1.png"].texture
          );
          let hair2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发2.png"].texture
          );
          let hair3 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发3.png"].texture
          );
          let hair4 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发4.png"].texture
          );
          let hair5 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发5.png"].texture
          );
          let hair6 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发6.png"].texture
          );
          let hair7 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发7.png"].texture
          );
          let hair8 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发8.png"].texture
          );
          let hair9 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发9.png"].texture
          );
          let hair10 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发10.png"].texture
          );
          let hair11 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发11.png"].texture
          );
          let hair12 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let hair12e = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let header = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头部.png"].texture
          );
          let eyeL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeVL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VR.png"].texture
          );
          let eyeVR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VL.png"].texture
          );
          let headerS = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头饰.png"].texture
          );
          let border = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/身体.png"].texture
          );
          let showL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手L.png"].texture
          );
          let showL2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let showR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手R.png"].texture
          );
          let showR2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let scarf = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾.png"].texture
          );
          let scarfL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾L.png"].texture
          );
          let scarfR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾R.png"].texture
          );
          let footL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footL2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );
          let footR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footR2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );
          let halo = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/光环.png"].texture
          );
          let animalsHeT = new PIXI.Container();
          let animalsHeST = new PIXI.Container();
          let animalsHe1T = new PIXI.Container();
          let animalsHe2T = new PIXI.Container();
          let animalsHe3T = new PIXI.Container();
          let animalsHe4T = new PIXI.Container();
          let animalsHe5T = new PIXI.Container();
          let animalsHe6T = new PIXI.Container();
          let animalsHe7T = new PIXI.Container();
          let animalsHe8T = new PIXI.Container();
          let animalsHe9T = new PIXI.Container();
          let animalsHe10T = new PIXI.Container();
          let animalsHe11T = new PIXI.Container();
          let animalsHe12T = new PIXI.Container();
          let animalsSLT = new PIXI.Container();
          let animalsSRT = new PIXI.Container();
          let animalsFLT = new PIXI.Container();
          let animalsFRT = new PIXI.Container();
          let animalsBYT = new PIXI.Container();
          let hairT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发1.png"].texture
          );
          let hair2T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发2.png"].texture
          );
          let hair3T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发3.png"].texture
          );
          let hair4T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发4.png"].texture
          );
          let hair5T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发5.png"].texture
          );
          let hair6T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发6.png"].texture
          );
          let hair7T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发7.png"].texture
          );
          let hair8T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发8.png"].texture
          );
          let hair9T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发9.png"].texture
          );
          let hair10T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发10.png"].texture
          );
          let hair11T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发11.png"].texture
          );
          let hair12T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let hair12eT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let headerT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头部.png"].texture
          );
          let eyeLT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeRT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeVLT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VR.png"].texture
          );
          let eyeVRT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VL.png"].texture
          );
          let headerST = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头饰.png"].texture
          );
          let borderT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/身体.png"].texture
          );
          let showLT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手L.png"].texture
          );
          let showL2T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let showRT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手R.png"].texture
          );
          let showR2T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let scarfT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾.png"].texture
          );
          let scarfLT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾L.png"].texture
          );
          let scarfRT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾R.png"].texture
          );
          let footLT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footL2T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );
          let footRT = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footR2T = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );

          halo.width = 42;
          halo.height = 18;
          halo.x = 60;
          halo.y = -30;

          footL.width = 27;
          footL.height = 42;
          footL2.width = 27;
          footL2.height = 48;
          footL2.y = 37.5 + 27 / 9;
          footL2.x = 27 / 2;
          footL2.anchor.set(0.5, 0.1);
          animalsFL.x = 42 + 27 / 2;
          animalsFL.y = 171 + 27 / 9;
          animalsFL.pivot.set(27 / 2, 27 / 9);

          footR.width = 27;
          footR.height = 42;
          footR2.width = 27;
          footR2.height = 48;
          footR2.y = 37.5 + 27 / 9;
          footR2.x = 27 / 2;
          footR2.anchor.set(0.5, 0.1);
          animalsFR.x = 87 + 27 / 2;
          animalsFR.y = 171 + 27 / 9;
          animalsFR.pivot.set(27 / 2, 27 / 9);

          scarf.width = 66;
          scarf.height = 18;
          scarf.x = 48;
          scarf.y = 96;
          scarfL.width = 42;
          scarfL.height = 84;
          scarfL.x = 42 + 18;
          scarfL.y = 108;
          scarfL.anchor.set(1, 0);

          scarfR.width = 36;
          scarfR.height = 84;
          scarfR.x = 96;
          scarfR.y = 108;
          scarfR.anchor.set(0, 0);

          showL.width = 42.45;
          showL.height = 25.8;
          showL2.width = 42.45;
          showL2.height = 25.8;
          showR.width = 42.45;
          showR.height = 25.8;
          showR2.width = 42.45;
          showR2.height = 25.8;
          showL2.x = 4;
          showL2.y = 25.8 / 2;
          showR2.x = 42.45 - 4.2;
          showR2.y = 25.8 / 2;
          showL2.anchor.set(0.9, 0.5);
          showL2.rotation = 0;
          showR2.anchor.set(0.1, 0.5);
          showR2.rotation = 0;
          // -1.6≈90°

          border.width = 84;
          border.height = 102;
          border.x = 36;
          border.y = 84;

          headerS.width = 33;
          headerS.height = 30;
          headerS.x = 93;
          headerS.y = 24;
          // ******************************
          hair.x = 72;
          hair.y = 36;
          hair.vy = 1;
          hair.width = 24;
          hair.height = 30;

          hair2.x = 30;
          hair2.y = 48;
          hair2.vy = 1;
          hair2.width = 42;
          hair2.height = 24;

          hair3.x = 96;
          hair3.y = 42;
          hair3.vy = 1;
          hair3.width = 54;
          hair3.height = 30;

          hair4.x = 24;
          hair4.y = 66;
          hair4.vy = 1;
          hair4.width = 30;
          hair4.height = 54;

          hair5.x = 108;
          hair5.y = 66;
          hair5.vy = 1;
          hair5.width = 30;
          hair5.height = 54;

          hair6.x = 12;
          hair6.y = 6;
          hair6.vy = 1;
          hair6.width = 42;
          hair6.height = 42;

          hair7.x = 0;
          hair7.y = 42;
          hair7.vy = 1;
          hair7.width = 36;
          hair7.height = 36;

          hair8.x = 0;
          hair8.y = 66;
          hair8.vy = 1;
          hair8.width = 42;
          hair8.height = 42;

          hair9.x = 96;
          hair9.y = 6;
          hair9.vy = 1;
          hair9.width = 42;
          hair9.height = 36;

          hair10.x = 114;
          hair10.y = 66;
          hair10.vy = 1;
          hair10.width = 36;
          hair10.height = 42;

          hair11.x = 24;
          hair11.y = 0;
          hair11.vy = 1;
          hair11.width = 96;
          hair11.height = 78;

          hair12.x = 42;
          hair12.y = 78;
          hair12.vy = 1;
          hair12.width = 78;
          hair12.height = 36;
          hair12e.x = hair12.x;
          hair12e.y = hair12.y;
          hair12e.vy = hair12.vy;
          hair12e.width = hair12.width;
          hair12e.height = hair12.height;

          header.x = 36;
          header.y = 18;
          header.width = 84;
          header.height = 78;
          animalsHe.pivot.set(150 / 2 + 6, 120 / 2 + 120 / 8);
          animalsHe.x = 150 / 2 + 6;
          animalsHe.y = 120 / 2 + 120 / 8;

          //******************************/**********************************************

          footLT.width = 27;
          footLT.height = 42;
          footL2T.width = 27;
          footL2T.height = 48;
          footL2T.y = 37.5 + 27 / 9;
          footL2T.x = 27 / 2;
          footL2T.anchor.set(0.5, 0.1);
          animalsFLT.x = 42 + 27 / 2;
          animalsFLT.y = 171 + 27 / 9;
          animalsFLT.pivot.set(27 / 2, 27 / 9);

          footRT.width = 27;
          footRT.height = 42;
          footR2T.width = 27;
          footR2T.height = 48;
          footR2T.y = 37.5 + 27 / 9;
          footR2T.x = 27 / 2;
          footR2T.anchor.set(0.5, 0.1);
          animalsFRT.x = 87 + 27 / 2;
          animalsFRT.y = 171 + 27 / 9;
          animalsFRT.pivot.set(27 / 2, 27 / 9);

          scarfT.width = 66;
          scarfT.height = 18;
          scarfT.x = 48;
          scarfT.y = 96;
          scarfLT.width = 42;
          scarfLT.height = 84;
          scarfLT.x = 42 + 18;
          scarfLT.y = 108;
          scarfLT.anchor.set(1, 0);

          scarfRT.width = 36;
          scarfRT.height = 84;
          scarfRT.x = 96;
          scarfRT.y = 108;
          scarfRT.anchor.set(0, 0);

          showLT.width = 42.45;
          showLT.height = 25.8;
          showL2T.width = 42.45;
          showL2T.height = 25.8;
          showRT.width = 42.45;
          showRT.height = 25.8;
          showR2T.width = 42.45;
          showR2T.height = 25.8;
          showL2T.x = 4;
          showL2T.y = 25.8 / 2;
          showR2T.x = 42.45 - 4.2;
          showR2T.y = 25.8 / 2;
          showL2T.anchor.set(0.9, 0.5);
          showL2T.rotation = 0;
          showR2T.anchor.set(0.1, 0.5);
          showR2T.rotation = 0;
          // -1.6≈90°

          borderT.width = 84;
          borderT.height = 102;
          borderT.x = 36;
          borderT.y = 84;

          headerST.width = 33;
          headerST.height = 30;
          headerST.x = 93;
          headerST.y = 24;
          // ******************************
          hairT.x = 72;
          hairT.y = 36;
          hairT.vy = 1;
          hairT.width = 24;
          hairT.height = 30;

          hair2T.x = 30;
          hair2T.y = 48;
          hair2T.vy = 1;
          hair2T.width = 42;
          hair2T.height = 24;

          hair3T.x = 96;
          hair3T.y = 42;
          hair3T.vy = 1;
          hair3T.width = 54;
          hair3T.height = 30;

          hair4T.x = 24;
          hair4T.y = 66;
          hair4T.vy = 1;
          hair4T.width = 30;
          hair4T.height = 54;

          hair5T.x = 108;
          hair5T.y = 66;
          hair5T.vy = 1;
          hair5T.width = 30;
          hair5T.height = 54;

          hair6T.x = 12;
          hair6T.y = 6;
          hair6T.vy = 1;
          hair6T.width = 42;
          hair6T.height = 42;

          hair7T.x = 0;
          hair7T.y = 42;
          hair7T.vy = 1;
          hair7T.width = 36;
          hair7T.height = 36;

          hair8T.x = 0;
          hair8T.y = 66;
          hair8T.vy = 1;
          hair8T.width = 42;
          hair8T.height = 42;

          hair9T.x = 96;
          hair9T.y = 6;
          hair9T.vy = 1;
          hair9T.width = 42;
          hair9T.height = 36;

          hair10T.x = 114;
          hair10T.y = 66;
          hair10T.vy = 1;
          hair10T.width = 36;
          hair10T.height = 42;

          hair11T.x = 24;
          hair11T.y = 0;
          hair11T.vy = 1;
          hair11T.width = 96;
          hair11T.height = 78;

          hair12T.x = 42;
          hair12T.y = 78;
          hair12T.vy = 1;
          hair12T.width = 78;
          hair12T.height = 36;
          hair12eT.x = hair12T.x;
          hair12eT.y = hair12T.y;
          hair12eT.vy = hair12T.vy;
          hair12eT.width = hair12T.width;
          hair12eT.height = hair12T.height;

          headerT.x = 36;
          headerT.y = 18;
          headerT.width = 84;
          headerT.height = 78;
          animalsHeT.pivot.set(150 / 2 + 6, 120 / 2 + 120 / 8);
          animalsHeT.x = 150 / 2 + 6;
          animalsHeT.y = 120 / 2 + 120 / 8;

          //******************************/**********************************************

          headPivot(animalsHe12);
          headPivot(animalsHe11);
          headPivot(animalsHe10);
          headPivot(animalsHe9);
          headPivot(animalsHe8);
          headPivot(animalsHe7);
          headPivot(animalsHe6);
          headPivot(animalsHe5);
          headPivot(animalsHe4);
          headPivot(animalsHe3);
          headPivot(animalsHe2);
          headPivot(animalsHe1);
          headPivot(animalsHeS);
          headPivot(animalsHe12T);
          headPivot(animalsHe11T);
          headPivot(animalsHe10T);
          headPivot(animalsHe9T);
          headPivot(animalsHe8T);
          headPivot(animalsHe7T);
          headPivot(animalsHe6T);
          headPivot(animalsHe5T);
          headPivot(animalsHe4T);
          headPivot(animalsHe3T);
          headPivot(animalsHe2T);
          headPivot(animalsHe1T);
          headPivot(animalsHeST);
          function headPivot(name) {
            name.pivot.set(150 / 2 + 6, 120 / 2 + 120 / 8);
            name.x = 150 / 2 + 6;
            name.y = 120 / 2 + 120 / 8;
          }

          eyeR.width = 18;
          eyeR.height = 18;
          eyeR.x = 54;
          eyeR.y = 60;

          eyeL.width = 18;
          eyeL.height = 18;
          eyeL.x = 90;
          eyeL.y = 60;

          eyeVR.width = 18;
          eyeVR.height = 18;
          eyeVR.x = 54;
          eyeVR.y = 60;

          eyeVL.width = 18;
          eyeVL.height = 18;
          eyeVL.x = 90;
          eyeVL.y = 60;
          //************************
          eyeRT.width = 18;
          eyeRT.height = 18;
          eyeRT.x = 54;
          eyeRT.y = 60;

          eyeLT.width = 18;
          eyeLT.height = 18;
          eyeLT.x = 90;
          eyeLT.y = 60;

          eyeVRT.width = 18;
          eyeVRT.height = 18;
          eyeVRT.x = 54;
          eyeVRT.y = 60;

          eyeVLT.width = 18;
          eyeVLT.height = 18;
          eyeVLT.x = 90;
          eyeVLT.y = 60;
          // 6

          animalsSL.addChild(showL);
          animalsSL.addChild(showL2);
          animalsSR.addChild(showR);
          animalsSR.addChild(showR2);
          animalsFL.addChild(footL2);
          animalsFL.addChild(footL);
          animalsFR.addChild(footR2);
          animalsFR.addChild(footR);
          // animalsSL.addChild(animalsSL2);
          // animalsHe.addChild(hair12);
          // hair12.alpha=0
          animalsHe12.addChild(hair12);
          animalsBY.addChild(scarfL);
          animalsBY.addChild(scarfR);
          // animals.addChild(footL);
          // animalsHe.addChild()
          animalsBY.addChild(animalsFL);
          animalsHe8.addChild(hair8);
          animalsBY.addChild(animalsHe8);
          animalsBY.addChild(animalsFR);
          animalsHe10.addChild(hair10);
          animalsBY.addChild(animalsHe10);

          animalsBY.addChild(animalsHe12);
          animalsBY.addChild(animalsSR);
          animalsBY.addChild(border);
          animalsHe.addChild(header);
          animalsBY.addChild(animalsHe);
          animalsHe.addChild(eyeR);
          animalsHe.addChild(eyeL);
          animalsHe.addChild(eyeVR);
          animalsHe.addChild(eyeVL);
          animalsHe.addChild(halo);
          eyeVL.visible = false;
          eyeVR.visible = false;
          animalsHe9.addChild(hair9);
          animalsBY.addChild(animalsHe9);
          animalsHe6.addChild(hair6);
          animalsBY.addChild(animalsHe6);
          animalsHe7.addChild(hair7);

          animalsBY.addChild(animalsHe7);
          animalsHe11.addChild(hair11);
          animalsBY.addChild(animalsHe11);
          animalsHe1.addChild(hair);
          animalsBY.addChild(animalsHe1);
          // animalsBY.addChild(animalsSL);
          animalsBY.addChild(animalsSL);
          animalsBY.addChild(scarf);
          animalsHe4.addChild(hair4);
          animalsBY.addChild(animalsHe4);
          animalsHe5.addChild(hair5);
          animalsBY.addChild(animalsHe5);

          animalsHe2.addChild(hair2);
          animalsBY.addChild(animalsHe2);
          animalsHe3.addChild(hair3);
          animalsBY.addChild(animalsHe3);

          // animalsBY.addChild(animalsBY);

          animalsBY.pivot.set(78, 93);
          // animals.scale.x = -1

          animalsHeS.addChild(headerS);
          animalsBY.addChild(animalsHeS);
          animalsTP.addChild(animalsBY);

          app2.stage.addChild(animalsTP);
          // animalsBY.addChild(scarfL);
          // animalsBY.addChild(scarfR);

          animalsSL.y = 96 + 25.8 / 2;
          animalsSL.x = 4.5 + 42.45;
          animalsSR.y = 96 + 25.8 / 2;
          animalsSR.x = 84 + 42.45 - 17.5;
          animalsSL.pivot.set(42.45 - 42.45 / 8, 25.8 / 2);
          animalsSR.pivot.set(0 + 42.45 / 8, 25.8 / 2);

          // animalsSL.transform.pivot.x = 1;
          // animalsSL.transform.pivot.y = 0.5;
          animalsSL.rotation = -0.8;
          animalsSR.rotation = 0.8;

          //*************************------------------------------------------

          animalsSLT.addChild(showLT);
          animalsSLT.addChild(showL2T);
          animalsSRT.addChild(showRT);
          animalsSRT.addChild(showR2T);
          animalsFLT.addChild(footL2T);
          animalsFLT.addChild(footLT);
          animalsFRT.addChild(footR2T);
          animalsFRT.addChild(footRT);
          // animalsSL.addChild(animalsSL2);
          // animalsHe.addChild(hair12);
          // hair12.alpha=0
          animalsHe12T.addChild(hair12T);
          animalsBYT.addChild(scarfLT);
          animalsBYT.addChild(scarfRT);
          // animals.addChild(footL);
          // animalsHe.addChild()
          animalsBYT.addChild(animalsFLT);
          animalsHe8T.addChild(hair8T);
          animalsBYT.addChild(animalsHe8T);
          animalsBYT.addChild(animalsFRT);
          animalsHe10T.addChild(hair10T);
          animalsBYT.addChild(animalsHe10T);

          animalsBYT.addChild(animalsHe12T);
          animalsBYT.addChild(animalsSRT);
          animalsBYT.addChild(borderT);
          animalsHeT.addChild(headerT);
          animalsBYT.addChild(animalsHeT);
          animalsHeT.addChild(eyeRT);
          animalsHeT.addChild(eyeLT);
          animalsHeT.addChild(eyeVRT);
          animalsHeT.addChild(eyeVLT);
          eyeVLT.visible = false;
          eyeVRT.visible = false;
          animalsHe9T.addChild(hair9T);
          animalsBYT.addChild(animalsHe9T);
          animalsHe6T.addChild(hair6T);
          animalsBYT.addChild(animalsHe6T);
          animalsHe7T.addChild(hair7T);

          animalsBYT.addChild(animalsHe7T);
          animalsHe11T.addChild(hair11T);
          animalsBYT.addChild(animalsHe11T);
          animalsHe1T.addChild(hairT);
          animalsBYT.addChild(animalsHe1T);
          // animalsBY.addChild(animalsSL);
          animalsBYT.addChild(animalsSLT);
          animalsBYT.addChild(scarfT);
          animalsHe4T.addChild(hair4T);
          animalsBYT.addChild(animalsHe4T);
          animalsHe5T.addChild(hair5T);
          animalsBYT.addChild(animalsHe5T);

          animalsHe2T.addChild(hair2T);
          animalsBYT.addChild(animalsHe2T);
          animalsHe3T.addChild(hair3T);
          animalsBYT.addChild(animalsHe3T);

          // animalsBY.addChild(animalsBY);

          animalsBYT.pivot.set(78, 93);
          // animals.scale.x = -1
          // animalsBYT.alpha=0.5
          animalsHeST.addChild(headerST);
          animalsBYT.addChild(animalsHeST);
          // c.pulse(animalsBYT, 60, 0.5);
          // animalsTP.addChild(animalsBYT);

          app2.stage.addChild(animalsTP);
          // animalsBY.addChild(scarfL);
          // animalsBY.addChild(scarfR);

          animalsSLT.y = 96 + 25.8 / 2;
          animalsSLT.x = 4.5 + 42.45;
          animalsSRT.y = 96 + 25.8 / 2;
          animalsSRT.x = 84 + 42.45 - 17.5;
          animalsSLT.pivot.set(42.45 - 42.45 / 8, 25.8 / 2);
          animalsSRT.pivot.set(0 + 42.45 / 8, 25.8 / 2);

          // animalsSL.transform.pivot.x = 1;
          // animalsSL.transform.pivot.y = 0.5;
          animalsSLT.rotation = -0.8;
          animalsSRT.rotation = 0.8;
          animalsTP.x = 391;
          animalsTP.y = 451;

          //*-----------------------//////***********************************

          let speed = 6;
          // 每秒执行60次
          app2.ticker.add((delta) => {
            // animalsBYT.alpha-=0.01
            // scarfL.rotation += 0.1;
            // scarfR.rotation -= 0.1;
            if(HP>=315&&speed==6){
              speed++
              a=6
              TimeOuO();
            }
          });

          let keyO = 0;
          let keyE = 0;
          let keyOFlag = true
          let keyEFlag = true
          let keyDo = true;
          let keyTe = true;
          $(document).keydown((e) => {
            let ran = parseInt(Math.random() * 2);
            if(HP<315){
              if ((e.key == "j" || e.key == "J")&&keyOFlag) {
              keyOFlag=false
              keyO = 1;
              setTimeout(() => {
                keyO = 0;
              }, 10);
            }
            if ((e.key == "f" || e.key == "F")&&keyEFlag) {
              keyEFlag=false
              keyE = 1;
              setTimeout(() => {
                keyE = 0;
              }, 10);
            }
            if (keyO == 1 && keyE == 1) {
              keyDo = false;
              keyTe = false;

              TimeOuO();
              a = 5;
             
            }
            $(document).keyup((e) => {

                if (e.key == "j" || e.key == "J") {
                  keyO = -1;
                  keyOFlag=true
                }
                if (e.key == "f" || e.key == "F") {
                  keyE = -1;
                  keyEFlag=true
                }
                if (keyE == -1 && keyO == -1) {
                  if(HP<315){
                    keyTe = true;
                    keyDo = true;
                  a = 0;
                  fuKe();
                  keyE=0
                  keyO=0
                  }
                  
                }
              });
            if (keyTe && keyDo) {
              
              if (e.key == "j" || e.key == "J") {
                keyTe = false;
                TimeOuO();
                a = ran == 0 ? 1 : 2;
              
                $(document).keyup((e) => {
                  if(HP<315){
                    if ((e.key == "j" || e.key == "J")&&keyDo) {
                    keyTe = true;
                    a = 0;
                    fuKe();
                  }
                  }
                  
                });
              } else if (e.key == "f" || e.key == "F") {
                keyTe = false;
                TimeOuO();
                a = ran == 0 ? 3 : 4;
              
                $(document).keyup((e) => {
                  if(HP<315){
                    if ((e.key == "f" || e.key == "F")&&keyDo) {
                    keyTe = true;
                    a = 0;
                    fuKe();
                  }
                  }
                  
                });
              }
            }
            }
            
          });
          let FK1;
          let FK2;
          let FK3;
          let FK4;
          let FK5;
          
          function TimeOuO() {
            clearInterval(FK1);
            clearInterval(FK2);
            clearInterval(FK3);
            clearInterval(FK4);
          }
          setTimeout(() => {
            // fuKe()
          }, 0);
          function fuKe() {
            TimeOuO();
            if(HP<315){
               a = 0;
            FK1 = setTimeout(() => {
              a = -1;
              FK2 = setTimeout(() => {
                a = -2;
                FK3 = setTimeout(() => {
                  a = -3;
                }, 300);
              }, 300);
            }, 300);
            FK4 = setInterval(() => {
              fuKe();
            }, 1200);
            }
           
          }
        }
      }
      // loadOver2 替身部分 css改canvas
      function loadOver3() {
        let resources = PIXI.loader.resources;
        let id = PIXI.loader.resources["animals.json"].textures;
        TapGenerate();
        let numberOfBlobs = 1;
        let xxx = 0;
        let blobs = [];
        let a = 0;
        function TapGenerate(lei) {
          var smoothie = new Smoothie({
            engine: PIXI,
            renderer: app3,
            root: animalsTP2,
            fps: 20,
            update: update.bind(this),
          });
          let canOp = 0;
          function update() {
            // let a=0
            if (a == 1) {
              canOp = 0.5;
              animalsBY.scale.x = 1;
              animalsBY.y = 40;
              animalsBY.x = 120 + 12;
              animalsSL.rotation = 1.1;
              animalsSR.rotation = -1.1;
              showL2.rotation = -1.5;
              showR2.rotation = 1.5;
              animalsBY.rotation = -0.6;
              animalsFL.rotation = -0.4;
              footL2.rotation = 0;
              animalsFR.rotation = -1;
              footR2.rotation = 2;
              animalsHe.rotation = 0.3;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0.5;
              scarfL.rotation = 0.5;
              eyeCh();
            } else if (a == 2) {
              canOp = 0.5;
              animalsBY.scale.x = 1;
              animalsBY.y = 120;
              animalsBY.x = 120 + 18;
              animalsSL.rotation = 0.5;
              animalsSR.rotation = -0.5;
              showL2.rotation = -1;
              showR2.rotation = 0;
              animalsBY.rotation = 0.6;
              animalsFL.rotation = -0;
              footL2.rotation = 0;
              animalsFR.rotation = -0.9;
              footR2.rotation = 1.9;
              animalsHe.rotation = -0.3;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 0.3;
              scarfL.rotation = 0.3;
              eyeCh();
            } else if (a == 3) {
              canOp = 0.5;
              animalsBY.scale.x = -1;
              animalsBY.y = 40;
              animalsBY.x = 120 - 12;
              animalsSL.rotation = 1.1;
              animalsSR.rotation = -1.1;
              showL2.rotation = -1.5;
              showR2.rotation = 1.5;
              animalsBY.rotation = 0.6;
              animalsFL.rotation = -0.4;
              footL2.rotation = 0;
              animalsFR.rotation = -1;
              footR2.rotation = 2;
              animalsHe.rotation = 0.3;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0.5;
              scarfL.rotation = 0.5;
              eyeCh();
            } else if (a == 4) {
              canOp = 0.5;
              animalsBY.scale.x = -1;
              animalsBY.y = 120;
              animalsBY.x = 120 - 18;
              animalsSL.rotation = 0.5;
              animalsSR.rotation = -0.5;
              showL2.rotation = -1;
              showR2.rotation = 0;
              animalsBY.rotation = -0.6;
              animalsFL.rotation = -0;
              footL2.rotation = 0;
              animalsFR.rotation = -0.9;
              footR2.rotation = 1.9;
              animalsHe.rotation = -0.3;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 0.3;
              scarfL.rotation = 0.3;
              eyeCh();
            } else if (a == 5) {
              canOp = 0.5;
              animalsBY.scale.x = 1;
              animalsBY.y = 120;
              animalsBY.x = 120 - 42;
              animalsSL.rotation = 0.4;
              animalsSR.rotation = 0.9;
              // animalsBY.addChild(animalsSR);
              // animalsBY.addChild(scarf);
              showL2.rotation = 2;
              showR2.rotation = 1;
              animalsBY.rotation = -1.4;
              animalsFL.rotation = -0.2;
              footL2.rotation = -0;
              animalsFR.rotation = -0.5;
              footR2.rotation = 2;
              animalsHe.rotation = 0.15;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = 1.4;
              scarfL.rotation = 1.4;
              eyeR.visible = false;
              eyeL.visible = false;
              eyeVL.visible = true;
              eyeVR.visible = true;
            } else if (a == 0) {
              canOp = 0;
              animalsBY.y = 120;
              animalsBY.x = 120;
              animalsSL.rotation = -1;
              animalsSR.rotation = 1;
              showL2.rotation = -2.2;
              showR2.rotation = -1.6;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.15;
              footL2.rotation = 0.3;
              animalsFR.rotation = -0.4;
              footR2.rotation = 0.4;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -1) {
              canOp = 0;
              animalsBY.y = 117;
              animalsBY.x = 117;
              animalsSL.rotation = -0.9;
              animalsSR.rotation = 1.1;
              showL2.rotation = -2.1;
              showR2.rotation = -1.5;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.1;
              footL2.rotation = 0.2;
              animalsFR.rotation = -0.3;
              footR2.rotation = 0.3;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -2) {
              canOp = 0;
              animalsBY.y = 120;
              animalsBY.x = 114;
              animalsSL.rotation = -1;
              animalsSR.rotation = 1;
              showL2.rotation = -2.2;
              showR2.rotation = -1.6;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.15;
              footL2.rotation = 0.3;
              animalsFR.rotation = -0.4;
              footR2.rotation = 0.4;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            } else if (a == -3) {
              canOp = 0;
              animalsBY.y = 117;
              animalsBY.x = 117;
              animalsSL.rotation = -0.9;
              animalsSR.rotation = 1.1;
              showL2.rotation = -2.1;
              showR2.rotation = -1.5;
              animalsBY.rotation = 0;
              animalsFL.rotation = 0.1;
              footL2.rotation = 0.2;
              animalsFR.rotation = -0.3;
              footR2.rotation = 0.3;
              animalsHe.rotation = -0;
              animalsHeNum(animalsHe.rotation);
              scarfR.rotation = -0;
              scarfL.rotation = -0;
            }
            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 1.1;
            // animalsSR.rotation = -1.1;
            // showL2.rotation = -1.5;
            // showR2.rotation = 1.5;
            // animalsBY.rotation = -0.6;
            // animalsFL.rotation = -0.4;
            // footL2.rotation = 0;
            // animalsFR.rotation = -1;
            // footR2.rotation = 2;
            // animalsHe.rotation = 0.3;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = -0.5;
            // scarfL.rotation = 0.5;

            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 0.5;
            // animalsSR.rotation = -0.5;
            // showL2.rotation = -1;
            // showR2.rotation = 0;
            // animalsBY.rotation = 0.6;
            // animalsFL.rotation = -0;
            // footL2.rotation = 0;
            // animalsFR.rotation = -0.9;
            // footR2.rotation = 1.9;
            // animalsHe.rotation = -0.3;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = 0.3;
            // scarfL.rotation = 0.3;

            // animalsBY.y = 117;
            // animalsBY.x = 117;
            // animalsSL.rotation = 0.4;
            // animalsSR.rotation = 1.1;
            // animalsBY.addChild(animalsSR);
            // animalsBY.addChild(scarf);
            // showL2.rotation = 2;
            // showR2.rotation = 1;
            // animalsBY.rotation = -1.4;
            // animalsFL.rotation = -0.2;
            // footL2.rotation = -0;
            // animalsFR.rotation = -0.5;
            // footR2.rotation = 2;
            // animalsHe.rotation = 0.15;
            // animalsHeNum(animalsHe.rotation);
            // scarfR.rotation = 1.4;
            // scarfL.rotation = 1.4;
          }
          function animalsHeNum(num) {
            animalsHe1.rotation = num;
            animalsHe2.rotation = num;
            animalsHe3.rotation = num;
            animalsHe4.rotation = num;
            animalsHe5.rotation = num;
            animalsHe6.rotation = num;
            animalsHe7.rotation = num;
            animalsHe8.rotation = num;
            animalsHe9.rotation = num;
            animalsHe10.rotation = num;
            animalsHe11.rotation = num;
            animalsHe12.rotation = num;
          }
          function eyeCh() {
            eyeR.visible = true;
            eyeL.visible = true;
            eyeVL.visible = false;
            eyeVR.visible = false;
          }
          smoothie.start();
          let animalsHe = new PIXI.Container();
          let animalsHeS = new PIXI.Container();
          let animalsHe1 = new PIXI.Container();
          let animalsHe2 = new PIXI.Container();
          let animalsHe3 = new PIXI.Container();
          let animalsHe4 = new PIXI.Container();
          let animalsHe5 = new PIXI.Container();
          let animalsHe6 = new PIXI.Container();
          let animalsHe7 = new PIXI.Container();
          let animalsHe8 = new PIXI.Container();
          let animalsHe9 = new PIXI.Container();
          let animalsHe10 = new PIXI.Container();
          let animalsHe11 = new PIXI.Container();
          let animalsHe12 = new PIXI.Container();
          let animalsSL = new PIXI.Container();
          let animalsSR = new PIXI.Container();
          let animalsFL = new PIXI.Container();
          let animalsFR = new PIXI.Container();
          let animalsBY = new PIXI.Container();
          let hair = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发1.png"].texture
          );
          let hair2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发2.png"].texture
          );
          let hair3 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发3.png"].texture
          );
          let hair4 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发4.png"].texture
          );
          let hair5 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发5.png"].texture
          );
          let hair6 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发6.png"].texture
          );
          let hair7 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发7.png"].texture
          );
          let hair8 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发8.png"].texture
          );
          let hair9 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发9.png"].texture
          );
          let hair10 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发10.png"].texture
          );
          let hair11 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发11.png"].texture
          );
          let hair12 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let hair12e = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头发12.png"].texture
          );
          let header = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头部.png"].texture
          );
          let eyeL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛↗.png"].texture
          );
          let eyeVL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VR.png"].texture
          );
          let eyeVR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/眼睛VL.png"].texture
          );
          let headerS = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/头饰.png"].texture
          );
          let border = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/身体.png"].texture
          );
          let showL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手L.png"].texture
          );
          let showL2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let showR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手R.png"].texture
          );
          let showR2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/手2.png"].texture
          );
          let scarf = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾.png"].texture
          );
          let scarfL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾L.png"].texture
          );
          let scarfR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/围巾R.png"].texture
          );
          let footL = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footL2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );
          let footR = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿1.png"].texture
          );
          let footR2 = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/腿2.png"].texture
          );
          let halo = new PIXI.Sprite(
            PIXI.loader.resources["./tapu/光环.png"].texture
          );

          halo.width = 42;
          halo.height = 18;
          halo.x = 60;
          halo.y = -30;

          footL.width = 27;
          footL.height = 42;
          footL2.width = 27;
          footL2.height = 48;
          footL2.y = 37.5 + 27 / 9;
          footL2.x = 27 / 2;
          footL2.anchor.set(0.5, 0.1);
          animalsFL.x = 42 + 27 / 2;
          animalsFL.y = 171 + 27 / 9;
          animalsFL.pivot.set(27 / 2, 27 / 9);

          footR.width = 27;
          footR.height = 42;
          footR2.width = 27;
          footR2.height = 48;
          footR2.y = 37.5 + 27 / 9;
          footR2.x = 27 / 2;
          footR2.anchor.set(0.5, 0.1);
          animalsFR.x = 87 + 27 / 2;
          animalsFR.y = 171 + 27 / 9;
          animalsFR.pivot.set(27 / 2, 27 / 9);

          scarf.width = 66;
          scarf.height = 18;
          scarf.x = 48;
          scarf.y = 96;
          scarfL.width = 42;
          scarfL.height = 84;
          scarfL.x = 42 + 18;
          scarfL.y = 108;
          scarfL.anchor.set(1, 0);

          scarfR.width = 36;
          scarfR.height = 84;
          scarfR.x = 96;
          scarfR.y = 108;
          scarfR.anchor.set(0, 0);

          showL.width = 42.45;
          showL.height = 25.8;
          showL2.width = 42.45;
          showL2.height = 25.8;
          showR.width = 42.45;
          showR.height = 25.8;
          showR2.width = 42.45;
          showR2.height = 25.8;
          showL2.x = 4;
          showL2.y = 25.8 / 2;
          showR2.x = 42.45 - 4.2;
          showR2.y = 25.8 / 2;
          showL2.anchor.set(0.9, 0.5);
          showL2.rotation = 0;
          showR2.anchor.set(0.1, 0.5);
          showR2.rotation = 0;
          // -1.6≈90°

          border.width = 84;
          border.height = 102;
          border.x = 36;
          border.y = 84;

          headerS.width = 33;
          headerS.height = 30;
          headerS.x = 93;
          headerS.y = 24;
          // ******************************
          hair.x = 72;
          hair.y = 36;
          hair.vy = 1;
          hair.width = 24;
          hair.height = 30;

          hair2.x = 30;
          hair2.y = 48;
          hair2.vy = 1;
          hair2.width = 42;
          hair2.height = 24;

          hair3.x = 96;
          hair3.y = 42;
          hair3.vy = 1;
          hair3.width = 54;
          hair3.height = 30;

          hair4.x = 24;
          hair4.y = 66;
          hair4.vy = 1;
          hair4.width = 30;
          hair4.height = 54;

          hair5.x = 108;
          hair5.y = 66;
          hair5.vy = 1;
          hair5.width = 30;
          hair5.height = 54;

          hair6.x = 12;
          hair6.y = 6;
          hair6.vy = 1;
          hair6.width = 42;
          hair6.height = 42;

          hair7.x = 0;
          hair7.y = 42;
          hair7.vy = 1;
          hair7.width = 36;
          hair7.height = 36;

          hair8.x = 0;
          hair8.y = 66;
          hair8.vy = 1;
          hair8.width = 42;
          hair8.height = 42;

          hair9.x = 96;
          hair9.y = 6;
          hair9.vy = 1;
          hair9.width = 42;
          hair9.height = 36;

          hair10.x = 114;
          hair10.y = 66;
          hair10.vy = 1;
          hair10.width = 36;
          hair10.height = 42;

          hair11.x = 24;
          hair11.y = 0;
          hair11.vy = 1;
          hair11.width = 96;
          hair11.height = 78;

          hair12.x = 42;
          hair12.y = 78;
          hair12.vy = 1;
          hair12.width = 78;
          hair12.height = 36;
          hair12e.x = hair12.x;
          hair12e.y = hair12.y;
          hair12e.vy = hair12.vy;
          hair12e.width = hair12.width;
          hair12e.height = hair12.height;

          header.x = 36;
          header.y = 18;
          header.width = 84;
          header.height = 78;
          animalsHe.pivot.set(150 / 2 + 6, 120 / 2 + 120 / 8);
          animalsHe.x = 150 / 2 + 6;
          animalsHe.y = 120 / 2 + 120 / 8;

          //******************************/**********************************************

          //******************************/**********************************************

          headPivot(animalsHe12);
          headPivot(animalsHe11);
          headPivot(animalsHe10);
          headPivot(animalsHe9);
          headPivot(animalsHe8);
          headPivot(animalsHe7);
          headPivot(animalsHe6);
          headPivot(animalsHe5);
          headPivot(animalsHe4);
          headPivot(animalsHe3);
          headPivot(animalsHe2);
          headPivot(animalsHe1);
          headPivot(animalsHeS);

          function headPivot(name) {
            name.pivot.set(150 / 2 + 6, 120 / 2 + 120 / 8);
            name.x = 150 / 2 + 6;
            name.y = 120 / 2 + 120 / 8;
          }

          eyeR.width = 18;
          eyeR.height = 18;
          eyeR.x = 54;
          eyeR.y = 60;

          eyeL.width = 18;
          eyeL.height = 18;
          eyeL.x = 90;
          eyeL.y = 60;

          eyeVR.width = 18;
          eyeVR.height = 18;
          eyeVR.x = 54;
          eyeVR.y = 60;

          eyeVL.width = 18;
          eyeVL.height = 18;
          eyeVL.x = 90;
          eyeVL.y = 60;
          //************************

          // 6

          animalsSL.addChild(showL);
          animalsSL.addChild(showL2);
          animalsSR.addChild(showR);
          animalsSR.addChild(showR2);
          animalsFL.addChild(footL2);
          animalsFL.addChild(footL);
          animalsFR.addChild(footR2);
          animalsFR.addChild(footR);
          // animalsSL.addChild(animalsSL2);
          // animalsHe.addChild(hair12);
          // hair12.alpha=0
          animalsHe12.addChild(hair12);
          animalsBY.addChild(scarfL);
          animalsBY.addChild(scarfR);
          // animals.addChild(footL);
          // animalsHe.addChild()
          animalsBY.addChild(animalsFL);
          animalsHe8.addChild(hair8);
          animalsBY.addChild(animalsHe8);
          animalsBY.addChild(animalsFR);
          animalsHe10.addChild(hair10);
          animalsBY.addChild(animalsHe10);

          animalsBY.addChild(animalsHe12);
          animalsBY.addChild(animalsSR);
          animalsBY.addChild(border);
          animalsHe.addChild(header);
          animalsBY.addChild(animalsHe);
          animalsHe.addChild(eyeR);
          animalsHe.addChild(eyeL);
          animalsHe.addChild(eyeVR);
          animalsHe.addChild(eyeVL);
          animalsHe.addChild(halo);
          eyeVL.visible = false;
          eyeVR.visible = false;
          animalsHe9.addChild(hair9);
          animalsBY.addChild(animalsHe9);
          animalsHe6.addChild(hair6);
          animalsBY.addChild(animalsHe6);
          animalsHe7.addChild(hair7);

          animalsBY.addChild(animalsHe7);
          animalsHe11.addChild(hair11);
          animalsBY.addChild(animalsHe11);
          animalsHe1.addChild(hair);
          animalsBY.addChild(animalsHe1);
          // animalsBY.addChild(animalsSL);
          animalsBY.addChild(animalsSL);
          animalsBY.addChild(scarf);
          animalsHe4.addChild(hair4);
          animalsBY.addChild(animalsHe4);
          animalsHe5.addChild(hair5);
          animalsBY.addChild(animalsHe5);

          animalsHe2.addChild(hair2);
          animalsBY.addChild(animalsHe2);
          animalsHe3.addChild(hair3);
          animalsBY.addChild(animalsHe3);

          // animalsBY.addChild(animalsBY);

          animalsBY.pivot.set(78, 93);
          // animals.scale.x = -1

          animalsHeS.addChild(headerS);
          animalsBY.addChild(animalsHeS);
          animalsTP2.addChild(animalsBY);

          app3.stage.addChild(animalsTP2);
          // animalsBY.addChild(scarfL);
          // animalsBY.addChild(scarfR);

          animalsSL.y = 96 + 25.8 / 2;
          animalsSL.x = 4.5 + 42.45;
          animalsSR.y = 96 + 25.8 / 2;
          animalsSR.x = 84 + 42.45 - 17.5;
          animalsSL.pivot.set(42.45 - 42.45 / 8, 25.8 / 2);
          animalsSR.pivot.set(0 + 42.45 / 8, 25.8 / 2);

          // animalsSL.transform.pivot.x = 1;
          // animalsSL.transform.pivot.y = 0.5;
          animalsSL.rotation = -0.8;
          animalsSR.rotation = 0.8;
          animalsTP2.x = 392;
          animalsTP2.y = 230;
          //*************************------------------------------------------

          app3.stage.addChild(animalsTP2);
          // animalsBY.addChild(scarfL);
          // animalsBY.addChild(scarfR);

          //*-----------------------//////***********************************

          let speed = 6;
          // 每秒执行60次
          app3.ticker.add((delta) => {
            // animalsBYT.alpha-=0.01
            // scarfL.rotation += 0.1;
            // scarfR.rotation -= 0.1;
            $("canvas:nth-of-type(3)").css("opacity", `${canOp}`);
            
          });
          $("canvas:nth-of-type(2)").css('z-index','-9');
          $("canvas:nth-of-type(3)").css('z-index','-10');
          let keyO = 0;
          let keyE = 0;
          let keyOFlag = true
          let keyEFlag = true
          let keyDo = true;
          let keyTe = true;
          $(document).keydown((e) => {
            if(HP<315){
              let ran = parseInt(Math.random() * 2);
            if ((e.key == "o" || e.key == "O")&&keyOFlag) {
              keyOFlag=false
              keyO = 1;
              setTimeout(() => {
                keyO = 0;
              }, 10);
            }
            if ((e.key == "e" || e.key == "E")&&keyEFlag) {
              keyEFlag=false
              keyE = 1;
              setTimeout(() => {
                keyE = 0;
              }, 10);
            }
            if (keyO == 1 && keyE == 1) {
              keyDo = false;
              keyTe = false;

              TimeOuO();
              a = 5;
             
            }
            $(document).keyup((e) => {
                if (e.key == "o" || e.key == "O") {
                  keyO = -1;
                  keyOFlag=true
                }
                if (e.key == "e" || e.key == "E") {
                  keyE = -1;
                  keyEFlag=true
                }
                if (keyE == -1 && keyO == -1) {
                  keyTe = true;
                  keyDo = true;
                  a = 0;
                  fuKe2();
                }
              });
            if (keyTe && keyDo) {
              
              if (e.key == "o" || e.key == "O") {
                keyTe = false;
                TimeOuO();
                a = ran == 0 ? 1 : 2;
                if (a == 1) {
                  animalsBY.scale.x = 1;
                  animalsBY.y = -240;
                  animalsBY.x = -120;
                } else {
                  animalsBY.scale.x = 1;
                  animalsBY.y = 200;
                  animalsBY.x = -60;
                }
                $(document).keyup((e) => {
                  if ((e.key == "o" || e.key == "O")&&keyDo) {
                    keyTe = true;
                    a = 0;
                    fuKe2();
                  }
                });
              } else if (e.key == "e" || e.key == "E") {
                keyTe = false;
                TimeOuO();
                a = ran == 0 ? 3 : 4;
                if (a == 3) {
                  animalsBY.scale.x = 1;
                  animalsBY.y = -240;
                  animalsBY.x = 360;
                } else {
                  animalsBY.scale.x = 1;
                  animalsBY.y = 200;
                  animalsBY.x = 300;
                }
                $(document).keyup((e) => {
                  if ((e.key == "e" || e.key == "E")&&keyDo) {
                    keyTe = true;
                    a = 0;
                    fuKe2();
                  }
                });
              }
            }
            }
            
          });
          let FK1;
          let FK2;
          let FK3;
          let FK4;
          let FK5;
          function TimeOuO() {
            clearInterval(FK1);
            clearInterval(FK2);
            clearInterval(FK3);
            clearInterval(FK4);
          }
          function fuKe2() {
            TimeOuO();
            a = 0;
            FK1 = setTimeout(() => {
              a = -1;
              FK2 = setTimeout(() => {
                a = -2;
                FK3 = setTimeout(() => {
                  a = -3;
                }, 300);
              }, 300);
            }, 300);
            FK4 = setInterval(() => {
              fuKe2();
            }, 1200);
          }
        }
      }
    </script>
    <!-- CSS动画部分 -->
    <script>
      function headeTaputouAnm() {
        setTimeout(() => {
          $(".headeTaputou").css("top", "25px");
          $("#headeTaputou1").css("transform", "rotateZ(0deg)");
          $("#headeTaputou2").css("transform", "rotateZ(0deg)");
          $("#headeTaputou3").css("transform", "rotateZ(0deg)");
          $("#headeTaputou4").css("transform", "rotateZ(0deg)");
          $("#headeTaputou5").css("transform", "rotateZ(0deg)");
          $("#headeTaputou6").css("transform", "rotateZ(0deg)");
          $("#headeTaputou7").css("transform", "rotateZ(0deg)");
          $("#headeTaputou8").css("transform", "rotateZ(0deg)");
          $("#headeTaputou9").css("transform", "rotateZ(0deg)");
          $("#headeTaputou10").css("transform", "rotateZ(0deg)");
          setTimeout(() => {
            $(".headeTaputou").css("top", "24px");
            $("#headeTaputou1").css("transform", "rotateZ(2deg)");
            $("#headeTaputou2").css("transform", "rotateZ(2deg)");
            $("#headeTaputou3").css("transform", "rotateZ(1deg)");
            $("#headeTaputou4").css("transform", "rotateZ(1deg)");
            $("#headeTaputou5").css("transform", "rotateZ(1deg)");
            $("#headeTaputou6").css("transform", "rotateZ(1deg)");
            $("#headeTaputou7").css("transform", "rotateZ(1deg)");
            $("#headeTaputou8").css("transform", "rotateZ(1deg)");
            $("#headeTaputou9").css("transform", "rotateZ(1deg)");
            $("#headeTaputou10").css("transform", "rotateZ(1deg)");
            setTimeout(() => {
              $(".headeTaputou").css("top", "23px");
              $("#headeTaputou1").css("transform", "rotateZ(3deg)");
              $("#headeTaputou2").css("transform", "rotateZ(3deg)");
              $("#headeTaputou3").css("transform", "rotateZ(2deg)");
              $("#headeTaputou4").css("transform", "rotateZ(2deg)");
              $("#headeTaputou5").css("transform", "rotateZ(2deg)");
              $("#headeTaputou6").css("transform", "rotateZ(2deg)");
              $("#headeTaputou7").css("transform", "rotateZ(2deg)");
              $("#headeTaputou8").css("transform", "rotateZ(2deg)");
              $("#headeTaputou9").css("transform", "rotateZ(2deg)");
              $("#headeTaputou10").css("transform", "rotateZ(2deg)");
              setTimeout(() => {
                $(".headeTaputou").css("top", "24px");
                $("#headeTaputou1").css("transform", "rotateZ(2deg)");
                $("#headeTaputou2").css("transform", "rotateZ(2deg)");
                $("#headeTaputou3").css("transform", "rotateZ(1deg)");
                $("#headeTaputou4").css("transform", "rotateZ(1deg)");
                $("#headeTaputou5").css("transform", "rotateZ(1deg)");
                $("#headeTaputou6").css("transform", "rotateZ(1deg)");
                $("#headeTaputou7").css("transform", "rotateZ(1deg)");
                $("#headeTaputou8").css("transform", "rotateZ(1deg)");
                $("#headeTaputou9").css("transform", "rotateZ(1deg)");
                $("#headeTaputou10").css("transform", "rotateZ(1deg)");
                setTimeout(() => {
                  $(".headeTaputou").css("top", "25px");
                  $("#headeTaputou1").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou2").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou3").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou4").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou5").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou6").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou7").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou8").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou9").css("transform", "rotateZ(0deg)");
                  $("#headeTaputou10").css("transform", "rotateZ(0deg)");
                  setTimeout(() => {
                    $(".headeTaputou").css("top", "26px");
                    $("#headeTaputou1").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou2").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou3").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou4").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou5").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou6").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou7").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou8").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou9").css("transform", "rotateZ(-1deg)");
                    $("#headeTaputou10").css("transform", "rotateZ(-1deg)");
                  }, 300);
                }, 300);
              }, 300);
            }, 300);
          }, 300);
        }, 300);
      }
      headeTaputouAnm();
      setInterval(() => {
        headeTaputouAnm();
      }, 1800);
      function injured() {
        $(".headeTaputou").css("transform", "rotateZ(-3deg)");
        $(".headeTaputou").css("left", "10px");
        $("#headeTaputouER").attr("src", "./tapu/眼睛VR.png");
        $("#headeTaputouEL").attr("src", "./tapu/眼睛VL.png");
        $("#headeTaputouEZ").attr("src", "./tapu/喘气嘴.png");
        if (HP > 120) {
          $("#headeTaputouH2").css("display", "block");
        }
        if (HP > 240) {
          $("#headeTaputouH1").css("display", "block");
        }
        if (HP >= 310) {
          $("#headeTaputouEZ").attr("src", "./tapu/ww嘴.png");
        }
        setTimeout(() => {
          $(".headeTaputou").css("transform", "rotateZ(0deg)");
          $(".headeTaputou").css("left", "15px");
          if (HP < 260) {
            $("#headeTaputouER").attr("src", "./tapu/眼睛↗.png");
            $("#headeTaputouEL").attr("src", "./tapu/眼睛↗.png");
          }

          setTimeout(() => {
            if (HP < 160) {
              $("#headeTaputouEZ").attr("src", "./tapu/微笑.png");
            }
          }, 300);
        }, 300);
      }

      $(".tapushowL").css("transform", "rotateZ(-45deg)");
      $(".tapushowR").css("transform", "rotateZ(45deg)");

      let btn = document.querySelector("#btn");
      let tapudwd = document.querySelector(".tapudwd");
      $(".tapushowR").css("z-index", "-1");

      let bbcc = true;

      // transform:rotateX(0deg) rotateZ(0deg);
      let bccc = 0;
      let bxxx = 0;
      setInterval(() => {
        // bccc += 0.01;

        // $(".bacc").css("transform", `rotateZ(${bccc}deg) rotateX(${bxxx}deg)`);
      }, 2);

      // let daiji;
      // let daijiL;
      // let z1;
      // let z2;
      // let z3;
      // let s1;
      // let s2;
      // let s3;
      // function fuke() {
      //   combat();
      //   daiji = setInterval(() => {
      //     combat();
      //   }, 1200);
      // }
      // function fukeL() {
      //   combatL();
      //   daijiL = setInterval(() => {
      //     combatL();
      //   }, 1200);
      // }
      // function fukeEr() {
      //   combatLEr();
      // }
      // // 待机
      // // fuke();
      // function timeouo() {
      //   clearInterval(daiji);
      //   clearInterval(daijiL);
      //   clearInterval(z1);
      //   clearInterval(z2);
      //   clearInterval(z3);
      //   clearInterval(s1);
      //   clearInterval(s2);
      //   clearInterval(s3);
      // }
      // function combatLEr() {
      //   if(HP<315){
      //     $("#tapuer").css("top", "285px");
      //   $("#tapuer").css("opacity", "0");
      //   }

      // }
      // function combat() {
      //   if(HP<315){
      //     $("#tapuyi").css("top", "285px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#weijinL").css("transform", "rotateZ(-1deg)");
      //   $("#weijinR").css("transform", "rotateZ(-1deg)");
      //   $("#tapuyi").css("transform", "scale(.15) ");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(60deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(-100deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(-60deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(-120deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(20deg)");
      //   z1 = setTimeout(() => {
      //     $("#tapuyi").css("top", "282px");
      //     $("#tapuyi").css("left", "-282px");
      //     $("#weijinL").css("transform", "rotateZ(0deg)");
      //     $("#weijinR").css("transform", "rotateZ(0deg)");
      //     $("#tapuyi").css("transform", "scale(.15) ");
      //     $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //     $("#tapuyi .tapushowR").css("transform", "rotateZ(65deg)");
      //     $("#tapuyi .tapushowR2").css("transform", "rotateZ(-105deg)");
      //     $("#tapuyi .tapushowL").css("transform", "rotateZ(-55deg)");
      //     $("#tapuyi .tapushowL2").css("transform", "rotateZ(-115deg)");
      //     $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //     $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(13deg)");
      //     $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-12deg)");
      //     $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(12deg)");
      //     z2 = setTimeout(() => {
      //       $("#tapuyi").css("top", "285px");
      //       $("#tapuyi").css("left", "-284px");
      //       $("#weijinL").css("transform", "rotateZ(1deg)");
      //       $("#weijinR").css("transform", "rotateZ(1deg)");
      //       $("#tapuyi").css("transform", "scale(.15) ");
      //       $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //       $("#tapuyi .tapushowR").css("transform", "rotateZ(60deg)");
      //       $("#tapuyi .tapushowR2").css("transform", "rotateZ(-100deg)");
      //       $("#tapuyi .tapushowL").css("transform", "rotateZ(-60deg)");
      //       $("#tapuyi .tapushowL2").css("transform", "rotateZ(-120deg)");
      //       $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //       $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(20deg)");
      //       $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-20deg)");
      //       $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(20deg)");
      //       z3 = setTimeout(() => {
      //         $("#tapuyi").css("top", "282px");
      //         $("#tapuyi").css("left", "-282px");
      //         $("#weijinL").css("transform", "rotateZ(0deg)");
      //         $("#weijinR").css("transform", "rotateZ(0deg)");
      //         $("#tapuyi").css("transform", "scale(.15) ");
      //         $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //         $("#tapuyi .tapushowR").css("transform", "rotateZ(65deg)");
      //         $("#tapuyi .tapushowR2").css("transform", "rotateZ(-105deg)");
      //         $("#tapuyi .tapushowL").css("transform", "rotateZ(-55deg)");
      //         $("#tapuyi .tapushowL2").css("transform", "rotateZ(-115deg)");
      //         $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //         $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(15deg)");
      //         $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-16deg)");
      //         $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(16deg)");
      //       }, 300);
      //     }, 300);
      //   }, 300);
      //   }

      // }
      // function combatL() {
      //   if(HP<315){
      //     $("#tapuyi").css("top", "285px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#tapuyi #weijinL").css("transform", "rotateZ(-1deg)");
      //   $("#tapuyi #weijinR").css("transform", "rotateZ(-1deg)");
      //   $("#tapuyi").css("transform", "scale(.15) rotateY(180deg) ");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(60deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(-100deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(-60deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(-120deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(20deg)");
      //   s1 = setTimeout(() => {
      //     $("#tapuyi").css("top", "282px");
      //     $("#tapuyi").css("left", "-282px");
      //     $("#tapuyi #weijinL").css("transform", "rotateZ(0deg)");
      //     $("#tapuyi #weijinR").css("transform", "rotateZ(0deg)");
      //     $("#tapuyi").css("transform", "scale(.15) rotateY(180deg)");
      //     $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //     $("#tapuyi .tapushowR").css("transform", "rotateZ(65deg)");
      //     $("#tapuyi .tapushowR2").css("transform", "rotateZ(-105deg)");
      //     $("#tapuyi .tapushowL").css("transform", "rotateZ(-55deg)");
      //     $("#tapuyi .tapushowL2").css("transform", "rotateZ(-115deg)");
      //     $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //     $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(13deg)");
      //     $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-12deg)");
      //     $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(12deg)");
      //     s2 = setTimeout(() => {
      //       $("#tapuyi").css("top", "285px");
      //       $("#tapuyi").css("left", "-284px");
      //       $("#tapuyi #weijinL").css("transform", "rotateZ(1deg)");
      //       $("#tapuyi #weijinR").css("transform", "rotateZ(1deg)");
      //       $("#tapuyi").css("transform", "scale(.15) rotateY(180deg)");
      //       $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //       $("#tapuyi .tapushowR").css("transform", "rotateZ(60deg)");
      //       $("#tapuyi .tapushowR2").css("transform", "rotateZ(-100deg)");
      //       $("#tapuyi .tapushowL").css("transform", "rotateZ(-60deg)");
      //       $("#tapuyi .tapushowL2").css("transform", "rotateZ(-120deg)");
      //       $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //       $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(20deg)");
      //       $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-20deg)");
      //       $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(20deg)");
      //       s3 = setTimeout(() => {
      //         $("#tapuyi").css("top", "282px");
      //         $("#tapuyi").css("left", "-282px");
      //         $("#tapuyi #weijinL").css("transform", "rotateZ(0deg)");
      //         $("#tapuyi #weijinR").css("transform", "rotateZ(0deg)");
      //         $("#tapuyi").css("transform", "scale(.15) rotateY(180deg)");
      //         $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //         $("#tapuyi .tapushowR").css("transform", "rotateZ(65deg)");
      //         $("#tapuyi .tapushowR2").css("transform", "rotateZ(-105deg)");
      //         $("#tapuyi .tapushowL").css("transform", "rotateZ(-55deg)");
      //         $("#tapuyi .tapushowL2").css("transform", "rotateZ(-115deg)");
      //         $("#tapuyi .tapujiaoL").css("transform", "rotateZ(8deg)");
      //         $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(15deg)");
      //         $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-16deg)");
      //         $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(16deg)");
      //       }, 300);
      //     }, 300);
      //   }, 300);
      //   }

      // }
      // // 右下
      // function attack() {
      //   if(HP<315){
      //      $("#tapuyi").css("top", "300px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#weijinL").css("transform", "rotateZ(-12deg)");
      //   $("#weijinR").css("transform", "rotateZ(-12deg)");
      //   $("#tapuyi").css("transform", "scale(.15) rotateZ(22deg)");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(-10deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(-25deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(-110deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(16deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(9deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-65deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(92deg)");
      //   $("#tapueyeL").attr("src", "../img/tapu/眼睛↗.png");
      //   $("#tapueyeR").attr("src", "../img/tapu/眼睛↗.png");
      //   }

      // }
      // // transform: translateX();
      // // 左下
      // function attackL() {
      //   if(HP<315){
      //      $("#tapuyi").css("top", "300px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#tapuyi").css(
      //     "transform",
      //     "scale(.15) rotateZ(-22deg) rotateY(-180deg)"
      //   );
      //   $("#weijinL").css("transform", "rotateZ(-12deg)");
      //   $("#weijinR").css("transform", "rotateZ(-12deg)");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(-10deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(-25deg)");
      //   $("#tapuyi.tapushowL2").css("transform", "rotateZ(-110deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(16deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(9deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-65deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(92deg)");
      //   $("#tapueyeL").attr("src", "../img/tapu/眼睛↗.png");
      //   $("#tapueyeR").attr("src", "../img/tapu/眼睛↗.png");
      //   }

      // }
      // function attackEr() {
      //   if(HP<315){
      //     $("#tapuer").css("opacity", "0.5");
      //   $("#tapuer").css("top", "80px");
      //   $("#tapuer").css("left", "-280px");
      //   $("#tapuer").css("transform", "scale(.15) rotateZ(22deg)");
      //   $("#tapuer .taputou").css("transform", "rotateZ(-10deg)");
      //   $("#tapuer .tapushowL").css("transform", "rotateZ(-25deg)");
      //   $("#tapuer .tapushowL2").css("transform", "rotateZ(-110deg)");
      //   $("#tapuer .tapushowR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuer .tapushowR2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapujiaoL").css("transform", "rotateZ(16deg)");
      //   $("#tapuer .tapujiaoL2").css("transform", "rotateZ(9deg)");
      //   $("#tapuer .tapujiaoR").css("transform", "rotateZ(-65deg)");
      //   $("#tapuer .tapujiaoR2").css("transform", "rotateZ(92deg)");
      //   }

      // }
      // function attackErL() {
      //   if(HP<315){
      //      $("#tapuer").css("opacity", "0.5");
      //   $("#tapuer").css("top", "80px");
      //   $("#tapuer").css("left", "-280px");
      //   $("#tapuer").css(
      //     "transform",
      //     "scale(.15) rotateZ(-22deg) rotateY(-180deg)"
      //   );
      //   $("#tapuer .taputou").css("transform", "rotateZ(-10deg)");
      //   $("#tapuer .tapushowL").css("transform", "rotateZ(-25deg)");
      //   $("#tapuer .tapushowL2").css("transform", "rotateZ(-110deg)");
      //   $("#tapuer .tapushowR").css("transform", "rotateZ(-20deg)");
      //   $("#tapuer .tapushowR2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapujiaoL").css("transform", "rotateZ(16deg)");
      //   $("#tapuer .tapujiaoL2").css("transform", "rotateZ(9deg)");
      //   $("#tapuer .tapujiaoR").css("transform", "rotateZ(-65deg)");
      //   $("#tapuer .tapujiaoR2").css("transform", "rotateZ(92deg)");
      //   }

      // }
      // function kick() {
      //   if(HP<315){
      //     $("#tapuyi").css("top", "300px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#tapuyi").css("transform", "scale(.15) rotateZ(-35deg)");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi #weijinL").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi #weijinR").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(17deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(104deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(240deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(35deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(296deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(0deg)");
      //   $("#tapueyeL").attr("src", "../img/tapu/眼睛↗.png");
      //   $("#tapueyeR").attr("src", "../img/tapu/眼睛↗.png");
      //   }

      // }
      // function kickEr() {
      //   if(HP<315){
      //     $("#tapuer").css("opacity", "0.5");
      //   $("#tapuer").css("top", "70px");
      //   $("#tapuer").css("left", "-280px");
      //   $("#tapuer").css(
      //     "transform",
      //     "scale(.15) rotateZ(35deg) rotateY(-180deg)"
      //   );
      //   $("#tapuer .taputou").css("transform", "rotateZ(20deg)");
      //   $("#tapuer .tapushowL").css("transform", "rotateZ(17deg)");
      //   $("#tapuer .tapushowL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapushowR").css("transform", "rotateZ(104deg)");
      //   $("#tapuer .tapushowR2").css("transform", "rotateZ(240deg)");
      //   $("#tapuer .tapujiaoL").css("transform", "rotateZ(35deg)");
      //   $("#tapuer .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapujiaoR").css("transform", "rotateZ(296deg)");
      //   $("#tapuer .tapujiaoR2").css("transform", "rotateZ(0deg)");
      //   }

      // }
      // function kickL() {
      //   if(HP<315){
      //     // $(".tapudwd").css("top", "400px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#tapuyi").css(
      //     "transform",
      //     "scale(.15) rotateZ(35deg) rotateY(-180deg)"
      //   );
      //   $("#tapuyi .taputou").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi #weijinL").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi #weijinR").css("transform", "rotateZ(20deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(17deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(104deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(240deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(35deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(296deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(0deg)");
      //   $("#tapueyeL").attr("src", "../img/tapu/眼睛↗.png");
      //   $("#tapueyeR").attr("src", "../img/tapu/眼睛↗.png");
      //   }

      // }
      // function kickErL() {
      //   if(HP<315){
      //     $("#tapuer").css("opacity", "0.5");
      //   $("#tapuer").css("left", "-280px");
      //   $("#tapuer").css("top", "70px");
      //   $("#tapuer").css("transform", "scale(.15) rotateZ(-35deg)");
      //   $("#tapuer .taputou").css("transform", "rotateZ(20deg)");

      //   $("#tapuer .tapushowL").css("transform", "rotateZ(17deg)");
      //   $("#tapuer .tapushowL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapushowR").css("transform", "rotateZ(104deg)");
      //   $("#tapuer .tapushowR2").css("transform", "rotateZ(240deg)");
      //   $("#tapuer .tapujiaoL").css("transform", "rotateZ(35deg)");
      //   $("#tapuer .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapujiaoR").css("transform", "rotateZ(296deg)");
      //   $("#tapuer .tapujiaoR2").css("transform", "rotateZ(0deg)");
      //   }

      // }
      // function xiaPi() {
      //   if(HP<315){
      //     $("#tapueyeL").attr("src", "../img/tapu/眼睛VR.png");
      //   $("#tapueyeR").attr("src", "../img/tapu/眼睛VL.png");
      //   $("#tapuyi").css("top", "255px");
      //   $("#tapuyi").css("left", "-280px");
      //   $("#weijinL").css("transform", "rotateZ(-10deg)");
      //   $("#weijinR").css("transform", "rotateZ(10deg)");
      //   $("#tapuyi").css("transform", "scale(.15) rotateZ(0deg)");
      //   $("#tapuyi .taputou").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapushowL").css("transform", "rotateZ(40deg)");
      //   $("#tapuyi .tapushowL2").css("transform", "rotateZ(-70deg)");
      //   $("#tapuyi .tapushowR").css("transform", "rotateZ(-40deg)");
      //   $("#tapuyi .tapushowR2").css("transform", "rotateZ(70deg)");
      //   $("#tapuyi .tapujiaoL").css("transform", "rotateZ(85deg)");
      //   $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-85deg)");
      //   $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(0deg)");
      //   }

      // }

      // function xiaPiEr() {
      //   if(HP<315){
      //     $("#tapuer").css("opacity", "0.5");
      //   $("#tapuer").css("top", "50px");
      //   $("#tapuer").css("left", "-260px");

      //   $("#tapuer").css("transform", "scale(.15) rotateZ(-80deg)");
      //   $("#tapuer .taputou").css("transform", "rotateZ(9deg)");
      //   $("#tapuer .tapushowL").css("transform", "rotateZ(24deg)");
      //   $("#tapuer .tapushowL2").css("transform", "rotateZ(99deg)");
      //   $("#tapuer .tapushowR").css("transform", "rotateZ(72deg)");
      //   $("#tapuer .tapushowR2").css("transform", "rotateZ(10deg)");
      //   $("#tapuer .tapujiaoL").css("transform", "rotateZ(-20deg)");
      //   $("#tapuer .tapujiaoL2").css("transform", "rotateZ(0deg)");
      //   $("#tapuer .tapujiaoR").css("transform", "rotateZ(-32deg)");
      //   $("#tapuer .tapujiaoR2").css("transform", "rotateZ(118deg)");
      //   }

      // }
      var hpZeroLet = true;
      function hpZero() {
        // timeouo()
        // if(hpZeroLet==true){
        //   hpZeroLet=false
        //   $(`.tapudwd,.tapushowR,.tapushowR2,.tapushowL,
        // .tapushowL2,.taputou,.lajiaoL2,.tapujiaoR,
        // .tapujiaoR2,.tapujiaoL,.tapujiaoL2,#taputou5,
        // #taputou4,#taputou8,#taputou7,#taputou10,#taputou1,
        // #taputou2,#taputou3`).css('transition', '0.35s linear ')
        // $("#tapuyi").css("top", "315px");
        // $("#tapuyi").css("left", "-280px");
        // $("#weijinL").css("transform", "rotateZ(0deg)");
        // $("#weijinR").css("transform", "rotateZ(0deg)");
        // $("#tapuyi").css("transform", "scale(.15) rotateZ(10deg)");
        // $("#tapuyi .taputou").css("transform", "rotateZ(12deg)");
        // $("#tapuyi .tapushowL").css("transform", "rotateZ(-70deg)");
        // $("#tapuyi .tapushowL2").css("transform", "rotateZ(-50deg)");
        // $("#tapuyi .tapushowR").css("transform", "rotateZ(78deg)");
        // $("#tapuyi .tapushowR2").css("transform", "rotateZ(-44deg)");
        // $("#tapuyi .tapujiaoL").css("transform", "rotateZ(-15deg)");
        // $("#tapuyi .tapujiaoL2").css("transform", "rotateZ(94deg)");
        // $("#tapuyi .tapujiaoR").css("transform", "rotateZ(-41deg)");
        // $("#tapuyi .tapujiaoR2").css("transform", "rotateZ(117deg)");
        // $('#tapueyeL').attr('src', '../img/tapu/眼睛VR.png')
        //             $('#tapueyeR').attr('src', '../img/tapu/眼睛VL.png')
        //             $('#tapuzui').attr('src', '../img/tapu/喘气嘴.png')
        // setTimeout(() => {
        //   $(`.tapudwd,.tapushowR,.tapushowR2,.tapushowL,
        // .tapushowL2,.taputou,.lajiaoL2,.tapujiaoR,
        // .tapujiaoR2,.tapujiaoL,.tapujiaoL2,#taputou5,
        // #taputou4,#taputou8,#taputou7,#taputou10,#taputou1,
        // #taputou2,#taputou3`).css('transition', '.45s linear ')
        // $('.tapudwd').css('transform', 'scale(.15) rotateZ(82deg)')
        // $("#tapuyi").css("top", "340px");
        //     $('.tapushowR').css('transform', 'rotateZ(-57deg)')
        //     $('.tapushowR2').css('transform', 'rotateZ(-27deg)')
        //     $('.tapushowL').css('transform', 'rotateZ(-157deg)')
        //     $('.tapushowL2').css('transform', 'rotateZ(-57deg)')
        //     $('.taputou').css('transform', 'rotateZ(-17deg)')
        //     $('.tapujiaoR').css('transform', 'rotateZ(3deg)')
        //     $('.tapujiaoR2').css('transform', 'rotateZ(13deg)')
        //     $('.tapujiaoL').css('transform', 'rotateZ(-27deg)')
        //     $('.tapujiaoL2').css('transform', 'rotateZ(23deg)')
        //     $('#taputou5').css('transform', 'rotateZ(-10deg)')
        //     $('#taputou4').css('transform', 'rotateZ(-10deg)')
        //     $('#taputou8').css('transform', 'rotateZ(0deg)')
        //     $('#taputou7').css('transform', 'rotateZ(0deg)')
        //     $('#taputou10').css('transform', 'rotateZ(0deg)')
        //     $('#taputou1').css('transform', 'rotateZ(0deg)')
        //     $('#taputou2').css('transform', 'rotateZ(0deg)')
        //     $('#taputou3').css('transform', 'rotateZ(0deg)')
        // let tapu2jie, tapu3jie, tapu4jie
        // setTimeout(() => {
        //     $('.tapudwd').css('transform', 'scale(.15) rotateZ(82deg)')
        //     $('.tapushowR').css('transform', 'rotateZ(-57deg)')
        //     $('.tapushowR2').css('transform', 'rotateZ(-27deg)')
        //     $('.tapushowL').css('transform', 'rotateZ(-157deg)')
        //     $('.tapushowL2').css('transform', 'rotateZ(-57deg)')
        //     $('.taputou').css('transform', 'rotateZ(-17deg)')
        //     $('.tapujiaoR').css('transform', 'rotateZ(3deg)')
        //     $('.tapujiaoR2').css('transform', 'rotateZ(13deg)')
        //     $('.tapujiaoL').css('transform', 'rotateZ(-27deg)')
        //     $('.tapujiaoL2').css('transform', 'rotateZ(23deg)')
        //     $('#taputou5').css('transform', 'rotateZ(-10deg)')
        //     $('#taputou4').css('transform', 'rotateZ(-10deg)')
        //     $('#taputou8').css('transform', 'rotateZ(0deg)')
        //     $('#taputou7').css('transform', 'rotateZ(0deg)')
        //     $('#taputou10').css('transform', 'rotateZ(0deg)')
        //     $('#taputou1').css('transform', 'rotateZ(0deg)')
        //     $('#taputou2').css('transform', 'rotateZ(0deg)')
        //     $('#taputou3').css('transform', 'rotateZ(0deg)')
        //     let tapu1jie = setInterval(() => {
        //       tapu1Jie()
        //     }, 2000);
        //     tapu1Jie()
        //     function tapu1Jie(){
        //         setTimeout(() => {
        //           $(`.tapudwd,.tapushowR,.tapushowR2,.tapushowL,
        // .tapushowL2,.taputou,.lajiaoL2,.tapujiaoR,
        // .tapujiaoR2,.tapujiaoL,.tapujiaoL2,#taputou5,
        // #taputou4,#taputou8,#taputou7,#taputou10,#taputou1,
        // #taputou2,#taputou3`).css('transition', '1s linear ')
        //         }, 350);
        //         $('.tapudwd').css('transform', 'scale(.15) rotateZ(82deg)')
        //         $('.tapushowR').css('transform', 'rotateZ(-57deg)')
        //         $('.tapushowR2').css('transform', 'rotateZ(-27deg)')
        //         $('.tapushowL').css('transform', 'rotateZ(-157deg)')
        //         $('.tapushowL2').css('transform', 'rotateZ(-57deg)')
        //         $('.taputou').css('transform', 'rotateZ(-17deg)')
        //         $('.tapujiaoR').css('transform', 'rotateZ(3deg)')
        //         $('.tapujiaoR2').css('transform', 'rotateZ(13deg)')
        //         $('.tapujiaoL').css('transform', 'rotateZ(-27deg)')
        //         $('.tapujiaoL2').css('transform', 'rotateZ(23deg)')
        //         $('#taputou5').css('transform', 'rotateZ(-13deg)')
        //         $('#taputou4').css('transform', 'rotateZ(-13deg)')
        //         $('#taputou8').css('transform', 'rotateZ(-3deg)')
        //         $('#taputou7').css('transform', 'rotateZ(-3deg)')
        //         $('#taputou10').css('transform', 'rotateZ(-3deg)')
        //         $('#taputou1').css('transform', 'rotateZ(-3deg)')
        //         tapu2jie = setTimeout(() => {
        //             $('#taputou2').css('transform', 'rotateZ(-5deg)')
        //         }, 200);
        //         tapu3jie = setTimeout(() => {
        //             $('#taputou3').css('transform', 'rotateZ(-5deg)')
        //         }, 30);
        //         tapu4jie = setTimeout(() => {
        //             $('.tapudwd').css('transform', 'scale(.15) rotateZ(80deg)')
        //             $('.tapushowR').css('transform', 'rotateZ(-55deg)')
        //             $('.tapushowR2').css('transform', 'rotateZ(-25deg)')
        //             $('.tapushowL').css('transform', 'rotateZ(-155deg)')
        //             $('.tapushowL2').css('transform', 'rotateZ(-55deg)')
        //             $('.taputou').css('transform', 'rotateZ(-15deg)')
        //             $('.tapujiaoR').css('transform', 'rotateZ(5deg)')
        //             $('.tapujiaoR2').css('transform', 'rotateZ(15deg)')
        //             $('.tapujiaoL').css('transform', 'rotateZ(-25deg)')
        //             $('.tapujiaoL2').css('transform', 'rotateZ(25deg)')
        //             $('#taputou5').css('transform', 'rotateZ(-10deg)')
        //             $('#taputou4').css('transform', 'rotateZ(-10deg)')
        //             $('#taputou8').css('transform', 'rotateZ(0deg)')
        //             $('#taputou7').css('transform', 'rotateZ(0deg)')
        //             $('#taputou10').css('transform', 'rotateZ(0deg)')
        //             $('#taputou1').css('transform', 'rotateZ(0deg)')
        //             $('#taputou2').css('transform', 'rotateZ(2deg)')
        //             $('#taputou3').css('transform', 'rotateZ(1deg)')
        //         }, 1000);
        //       }
        // }, 1);
        // }, 800);
        // }
      }

      let bdd = document.body;

      let i = 0;
      let j = 0;
      let f = 0;
      let r = 0;
      let cos = 0;
      let cos2 = 0;

      setTimeout(() => {
        $("*").css("transition", "all .1s");
      }, 0);
    </script>

    <style>
      button {
        width: 200px;
        height: 200px;
        font-size: 40px;
      }

      #guang {
        animation: tapu 3s ease-in-out infinite;
      }
      div {
        /* perspective: 1000; */
      }
      * {
        /* transform:translateZ(0) */
      }
      @keyframes tapu {
        form,
        50%,
        to {
          top: -540px;
        }
        25% {
          top: -520px;
        }
        75% {
          top: -560px;
        }
      }
      #zhaopian {
        position: absolute;
        width: 245px;
        height: 202px;
        top: 1700px;
        left: 1400px;
        transform: rotateX(60deg);
      }
      #taputou1 {
        transform: rotateZ(0deg);
        transform-origin: 50% 0%;
      }
      #taputou2 {
        transform: rotateZ(0deg);
        transform-origin: 100% 0%;
      }
      #taputou3 {
        transform: rotateZ(0deg);
        transform-origin: 0% 0%;
      }
      #taputou5 {
        transform: rotateZ(0deg);
        transform-origin: 50% 0%;
      }
      #taputou4 {
        transform: rotateZ(0deg);
        transform-origin: 50% 0%;
      }
      #taputou8 {
        transform: rotateZ(0deg);
        transform-origin: 50% 10%;
      }
      #taputou7 {
        transform: rotateZ(0deg);
        transform-origin: 100% 10%;
      }
      #taputou10 {
        transform: rotateZ(0deg);
        transform-origin: 50% 10%;
      }
      #weijinR {
        transform: rotateZ(0deg);
        transform-origin: 10% 0%;
        z-index: -1;
      }
      #weijinL {
        transform: rotateZ(0deg);
        transform-origin: 90% 0%;
        z-index: -1;
      }

      .tapudwd {
        width: 560px;
        height: 680px;
        position: absolute;
        left: -280px;
        top: 285px;
        transform: rotateZ(0deg) scale(0.15);
        transform-origin: 50% 50%;
        margin-left: 50%;
      }
      .taputou {
        width: 560px;
        height: 520px;
        position: absolute;
        transform: rotateZ(0deg);
        transform-origin: 50% 95%;
        top: -520px;
      }
      .taputi {
        width: 560px;
        height: 680px;
        position: absolute;
        top: -80px;
      }
      .tapushowL {
        width: 283px;
        height: 172px;
        position: absolute;
        top: 15px;
        left: -170px;
        transform: rotateZ(0deg);
        transform-origin: 80% 50%;
      }
      .tapushowL2 {
        width: 283px;
        height: 172px;
        position: absolute;
        transform: rotateZ(0deg);
        transform-origin: 80% 50%;
        left: -230px;
      }
      .tapushowR {
        width: 283px;
        height: 172px;
        position: absolute;
        top: 12px;
        right: -165px;
        transform: rotateZ(0deg);
        transform-origin: 20% 50%;
      }
      .tapushowR2 {
        width: 283px;
        height: 172px;
        position: absolute;
        transform: rotateZ(0deg);
        transform-origin: 20% 50%;
        left: 230px;
      }
      .tapujiaoL {
        position: absolute;
        bottom: -100px;
        left: 40px;
        width: 180px;
        height: 280px;
        transform: rotateZ(0deg);
        transform-origin: 50% 0%;
      }
      .tapujiaoL2 {
        position: absolute;
        width: 180px;
        height: 280px;
        bottom: -240px;
        transform: rotateZ(0deg);
        transform-origin: 50% 30px;
        z-index: -1;
      }
      .tapujiaoR {
        position: absolute;
        bottom: -100px;
        right: 40px;
        width: 180px;
        height: 280px;
        transform: rotateZ(0deg);
        transform-origin: 50% 0%;
      }
      .tapujiaoR2 {
        position: absolute;
        width: 180px;
        height: 280px;
        bottom: -240px;
        transform: rotateZ(0deg);
        transform-origin: 50% 30px;
        z-index: -1;
      }
      img {
        position: absolute;
      }
    </style>
  </body>
</html>
